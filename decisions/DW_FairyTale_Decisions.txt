### Decisions specific to Fairy Tale
decisions = {
	#Visiting Beauty's Village
	dw_visit_beautys_village = {
		potential = {
			ai = no # Only the player should ever see this
			has_global_flag = dw_beauty_beast_triggered # And they should only see it after they have visited the village
			NOT = { has_global_flag = dw_beauty_beast_village_doomed } # If the Belle is kidnapped, the village is destroyed as the price
		}
		allow = {
			prisoner = no # Hard to visit while in a jail cell
			in_command = no # Hard to visit when leading troops to battle
			NOT = { is_incapable = yes }
			custom_tooltip = {
				text = dw_beautys_village_recovery
				NOT = { has_character_flag = dw_beautys_village_recovery }
			}
		}
		effect = {
			# We visit the village
			character_event = { id = DWFairyTales.110 days = 1 } # One day of travel
			# Recovery flag applied and clean-up event queued
			set_character_flag = dw_beautys_village_recovery
			character_event = { id = DWFairyTales.119 days = 90 }
		}
		ai_will_do = {
			factor = 0 # Zero chance the ai uses this
		}
	}
	#Rubbing Aladdin's Lamp
	dw_rub_aladdins_lamp = {
		potential = {
			has_fae_content = yes
			ai = no # Only the player should ever see this
			has_artifact = dw_aladdins_lamp # Need the lamp to rub the lamp
			NOT = { has_global_flag = dw_genie_freed } # If the genie is freed, then the lamp gives no notable interactions from being rubbed
		}
		allow = {
			NOT = { check_variable = { which = genie_wishes_made value = 3 } } # If three wishes were made, then this person receives no more.
		}
		effect = {
			# The genie comes out to say hello
			narrative_event = { id = DWFairyTales.3000 }

			# Recovery flag applied and clean-up event queued
			# TODO - maybe
		}
		ai_will_do = {
			factor = 0 # Zero chance the ai uses this
		}
	}
}
targetted_decisions = {
	#Have the Beast target an individual for assassination
	dw_beast_assassinate = {
		filter = all 
		ai_target_filter = self # Doesn't really apply as the ai should not be using this
		from_potential = { # From is the person targeting the person to evoke the decision
			ai = no # Player only
			prisoner = no # Unable to contact the Beast while behind bars
		}
		potential = { # This is where we check the target to ensure they're valid
			has_global_flag = dw_beast_tamed
		}
		allow = {
			NOT = {
				FROM = {
					character = ROOT # Should ensure that we're not targeting ourselves.
				}
			}
			custom_tooltip = {
				text = dw_beast_recovery
				NOT = { 
					FROM = { has_character_flag = dw_beast_decade_recovery }
				}
			}
		}
		effect = {
			# Our initial check event for further routing
			FROM = { character_event = { id = DWFairyTales.390 }}
			# Can only be directed to attack once a decade.
			FROM = {
				set_character_flag = dw_beast_decade_recovery
				character_event = { id = DWFairyTales.399 days = 3650}
			}
		}
		ai_will_do = {
			factor = 0 # ai shouldn't be doing this
		}
	}
}