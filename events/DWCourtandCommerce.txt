## DWCourt.100 - .199 Going Shopping
## DWCourt.200 - .299 Alchemist Shopping
## DWCourt.300 - Bordello Improvement Quest (in DWBordello.txt)
## DWCourt.400 - Exotic Emporium
## DWCourt.900 - Jus Primae Noctis (Right of First Night)
## DWCourt.1000 - .1999 Court Jester Events
## DWCourt.3000 - .3999 Council Events (.3000 Chancellor, .3100 Marshall, .3800 SpyMaster)
## DWCourt.5000 - Wizards Tower
## DWCourt.7000 - Arena (in DWArena.txt)

namespace = DWCourt
## Going Shopping
# .100 Where shall I go shopping?
narrative_event = {
	id = DWCourt.100
	title = dw_going_shopping_title
	is_triggered_only = yes # by decision
	picture = a_placeholder
	desc = { # Tribal, Nomad
		trigger = {
			OR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		text = DWCourt100
		picture = shopping_bazaar_1
	}
	desc = { # Tribal, Nomad
		trigger = {
			OR = {
				is_feudal = yes
				is_republic = yes
			}
		}
		text = DWCourt100
		picture = shopping_marketplace_1
	}
	option = { # Visit the alchemist
		trigger = {
			has_valid_alchemist = yes
		}
		name = DWCourt100A
		narrative_event = { id = DWCourt.200 }
	}
	option = { # Visit the Exotic Emporium
		trigger = {
			has_valid_emporium = yes
		}
		name = DWCourt100B
		narrative_event = { id = DWCourt.400 }
	}
}

## Alchemist \ Village Mystic shopping
# .200 Visit the Alchemist
narrative_event = {
	id = DWCourt.200
	desc = "DWCourt200"
	picture = alchemist
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered via dw_potion_shopping decision
	immediate = {
		# we do a random check to see what potions are available at the moment
		determine_potions_for_sale = yes
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
	}
	option = { # Penis Enlargement
		name = DWCourt200A
		trigger = {
			has_character_flag = dw_penis_enlargement_potion_buyer
		}
		hidden_effect = {
			if = { # a futa
				limit = {
					trait = futa
				}
				narrative_event = { id = DWCourt.215 }
			}
			else = { # not a futa
				narrative_event = { id = DWCourt.210 }
			}
		}
	}
	option = { # Breast Enlargement - Normal Dark World
		name = "DWCourt200B"
		trigger = {
			has_character_flag = dw_breast_enlargement_potion_buyer
		}
		hidden_effect = {
			narrative_event = { id = DWCourt.220 }
		}
	}
	option = { # Health Potion
		trigger = {
			has_character_flag = dw_health_potion_buyer
		}
		name = DWCourt200D
		hidden_effect = { narrative_event = { id = DWCourt.260 } }
	}
	option = { # Good Fortune
		trigger = {
			has_character_flag = dw_fortune_potion_buyer
		}
		name = DWCourt200C
		hidden_effect = { narrative_event = { id = DWCourt.230 } }
	}
	option = { # Aphrodite's Curse
		trigger = {
			has_character_flag = dw_aphrodite_curse_potion_buyer
		}
		name = DWCourt200E
		hidden_effect = { narrative_event = { id = DWCourt.240 } }
	}
	option = { # Serpent's Purge
		trigger = {
			has_character_flag = dw_abortion_potion_buyer
		}
		name = DWCourt200F
		hidden_effect = { narrative_event = { id = DWCourt.250 } }
	}
	option = { # Beauty Bath
		trigger = {
			has_character_flag = dw_beauty_bath_buyer
		}
		name = DWCourt200G
		hidden_effect = { narrative_event = { id = DWCourt.270 } }
	}
	option = { # Silver Tongue
		trigger = {
			has_character_flag = dw_silver_tongue_buyer
		}
		name = DWCourt200H
		hidden_effect = { narrative_event = { id = DWCourt.280 } }
	}
	option = { # Werewolf Blood
		trigger = {
			has_character_flag = dw_werewolf_blood_potion_buyer
		}
		name = DWCourt200I
		hidden_effect = { narrative_event = { id = DWCourt.290 } }
	}
}
# .210 Penis Enlargement - Male
narrative_event = {
	id = DWCourt.210
	desc = DWCourt210
	picture = alchemist_penis
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered by .200
	option = {
		name = DWCourt210A
		wealth = -50
		cock_grows = yes
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .215 Penis Enlargement - Futa
narrative_event = {
	id = DWCourt.215
	desc = DWCourt215
	picture = alchemist_penis_futa
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered by .200
	option = {
		name = DWCourt215A
		wealth = -50
		cock_grows = yes
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .220 Breast Enlargement
narrative_event = {
	id = DWCourt.220
	desc = DWCourt220
	picture = alchemist_breasts
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered from .200
	option = {
		name = DWCourt220A
		wealth = -50
		tits_grow = yes
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .230 Good Fortune potion
narrative_event = {
	id = DWCourt.230
	desc = DWCourt230
	picture = treasure
	title = dw_alchemist_shopping
	is_triggered_only = yes # triggered by .200
	option = {
		name = DWCourt230A
		wealth = -50
		if = {
			limit = {
				stewardship = 12
			}
			add_character_modifier = { name = dw_maximum_fortune duration = 365 }
			break = yes
		}
		if = {
			limit = {
				stewardship = 7
			}
			add_character_modifier = { name = dw_moderate_fortune duration = 365 }
			break = yes
		}
		add_character_modifier = { name = dw_minor_fortune duration = 365 }
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .240 Aphrodite's Curse Potion
narrative_event = {
	id = DWCourt.240
	desc = "DWCourt240"
	picture = alchemist_aphrodites_curse
	title = dw_alchemist_shopping
	is_triggered_only = yes # triggered by .201
	option = {
		name = "DWCourt240A" # Whoa
		wealth = -50
		add_character_modifier = { name = dw_aphrodites_curse duration = 180 }
		if = {
			limit = {
				trait = chaste
			}
			remove_trait = chaste
		}
		else_if = {
			limit = {
				trait = celibate
			}
			remove_trait = celibate
		}
		else_if = {
			limit = {
				NOT = { trait = lustful }
			}
			random = {
				chance = 25
				add_trait = lustful
			}
		}
		if = {
			limit = {
				is_female = yes
			}
			random_list = {
				50 = { } # Nothing special happens - meaning they made it home without incident
				50 = { narrative_event = { id = DWCourt.241 } } # Cock worship Part 1
			}
		}
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .241 Aphrodite's Curse Potion - Cock Worship Part 1
narrative_event = {
	id = DWCourt.241
	desc = "DWCourt241"
	picture = alchemist_aphrodites_curse_cock_worship1
	title = dw_alchemist_aphrodites_curse
	is_triggered_only = yes # triggered by .240
	option = {
		name = "DWCourt241A" # I must suck it
		narrative_event = { id = DWCourt.242 } # Cock worship Part 2
	}
}
# .242 Aphrodite's Curse Potion - Cock Worship Part 2
narrative_event = {
	id = DWCourt.242
	desc = "DWCourt242"
	picture = alchemist_aphrodites_curse_cock_worship2
	title = dw_alchemist_aphrodites_curse
	is_triggered_only = yes # triggered by .241
	option = {
		name = "DWCourt242A" # So thick
		add_character_modifier = { name = dw_good_sex days = 30 }
	}
}
# .250 Serpent's Purge potion
narrative_event = {
	id = DWCourt.250
	desc = "DWCourt250"
	picture = alchemist_serpentspurge
	title = dw_alchemist_shopping
	is_triggered_only = yes # triggered by .201
	option = {
		name = "DWCourt250A"
		wealth = -25
		set_character_flag = dw_purge_childbirth
		piety = -50 # Frowned upon by the faiths
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .260 Health Potion
narrative_event = {
	id = DWCourt.260
	desc = DWCourt260
	picture = alchemist_health_potion_1
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered by .200
	option = {
		name = DWCourt260A
		wealth = -25
		health = 0.5
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .270 Beauty Bath
narrative_event = {
	id = DWCourt.270
	desc = DWCourt270
	picture = alchemist_beauty_potion_1
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered by .200
	option = {
		name = DWCourt270A
		wealth = -50
		improve_appearance = yes
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .280 Silver Tongue
narrative_event = {
	id = DWCourt.280
	desc = DWCourt280
	picture = alchemist_potion_1
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered by .200
	option = {
		name = DWCourt280A
		wealth = -10
		random_list = {
			15 = { add_character_modifier = { name = dw_silver_tongue_potion duration = 90 } }
			20 = { add_character_modifier = { name = dw_silver_tongue_potion duration = 120 } }
			25 = { add_character_modifier = { name = dw_silver_tongue_potion duration = 150 } }
			30 = { add_character_modifier = { name = dw_silver_tongue_potion duration = 180 } }
		}
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .290 Werewolf Blood Potion
narrative_event = {
	id = DWCourt.290
	desc = DWCourt290
	picture = alchemist_blood_potion_1
	title = dw_alchemist_shopping
	is_triggered_only = yes # Triggered by .200
	option = { # Use on myself
		trigger = { trait = werekin }
		name = DWCourt290A
		wealth = -100
		remove_trait = werekin
		add_trait = werewolf
		hidden_effect = {
			clear_shopping_character_flags = yes
			add_random_werewolf_portrait = yes
		}
	}
	option = { # Use on another
		name = DWCourt290B
		wealth = -100
		add_character_modifier = { name = dw_werewolf_blood_potion duration = -1 }
		custom_tooltip = { text = dw_werewolf_blood_potion_tooltip }
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
## Exotic Emporium shopping
# .400 Visit the Exotic Emporium
narrative_event = {
	id = DWCourt.400
	desc = DWCourt400
	picture = exotic_store
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered via dw_potion_shopping decision
	immediate = {
		# we do a random check to see what potions are available at the moment
		determine_exotics_for_sale = yes
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
	}
	option = { # Lycurgus Cup
		name = DWCourt400A
		trigger = {
			has_character_flag = dw_lycurgus_cup_buyer
		}
		narrative_event = { id = DWCourt.410 }
	}
	option = { # Water Clock
		name = DWCourt400B
		trigger = {
			has_character_flag = dw_water_clock_buyer
		}
		narrative_event = { id = DWCourt.412 }
	}
	option = { # Derrynaflan Chalice
		name = DWCourt400C
		trigger = {
			has_character_flag = dw_derrynaflan_cup_buyer
		}
		narrative_event = { id = DWCourt.414 }
	}
	option = { # Principles of Etiquette
		name = DWCourt400D
		trigger = {
			has_character_flag = dw_basic_diplomacy_buyer
		}
		narrative_event = { id = DWCourt.420 }
	}
	option = { # Tales of a Handmaiden
		name = DWCourt400E
		trigger = {
			has_character_flag = dw_basic_intrigue_buyer
		}
		narrative_event = { id = DWCourt.422 }
	}
	option = { # Roman Roads
		name = DWCourt400F
		trigger = {
			has_character_flag = dw_basic_stewardship_buyer
		}
		narrative_event = { id = DWCourt.424 }
	}
	option = { # Infantry Leads the Way
		name = DWCourt400G
		trigger = {
			has_character_flag = dw_basic_martial_buyer
		}
		narrative_event = { id = DWCourt.426 }
	}
	option = { # Mediterranean Mysteries
		name = DWCourt400H
		trigger = {
			has_character_flag = dw_basic_learning_buyer
		}
		narrative_event = { id = DWCourt.428 }
	}
	option = { # Aladdin's Lamp
		name = DWCourt400I
		trigger = {
			has_character_flag = dw_aladdins_lamp_buyer
		}
		narrative_event = { id = DWCourt.430 }
	}
	option = { # Women's Armor - Wolf Plate
		name = DWCourt400J
		trigger = {
			has_character_flag = dw_female_wolf_plate_armor_buyer
		}
		narrative_event = { id = DWCourt.440 }
	}
	option = { # Diablerie book
		name = DWCourt400K
		trigger = { has_character_flag = dw_diablerie_book_buyer }
		narrative_event = { id = DWCourt.450 }
	}
}
# .410 Lycurgus Cup
narrative_event = {
	id = DWCourt.410
	desc = DWCourt410
	picture = exotic_chalice_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -50
		add_artifact = dw_lycurgus_cup
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .412 Water Clock
narrative_event = {
	id = DWCourt.412
	desc = DWCourt412
	picture = exotic_waterclock_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -25
		add_artifact = water_clock
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .414 Derrynaflan Chalice
narrative_event = {
	id = DWCourt.414
	desc = DWCourt414
	picture = exotic_chalice_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -50
		add_artifact = dw_derrynaflan_cup
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .420 Basic Diplomacy Book - Principles of Etiquette
narrative_event = {
	id = DWCourt.420
	desc = DWCourt420
	picture = exotic_book_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -10
		add_artifact = dw_basic_diplomacy_book
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .422 Basic Intrigue Book - Tales of a Handmaiden
narrative_event = {
	id = DWCourt.422
	desc = DWCourt422
	picture = exotic_book_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -10
		add_artifact = dw_basic_intrigue_book
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .424 Basic Stewardship Book - Roman Roads
narrative_event = {
	id = DWCourt.424
	desc = DWCourt424
	picture = exotic_book_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -10
		add_artifact = dw_basic_stewardship_book
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .426 Basic Martial Book - Infantry Leads the Way
narrative_event = {
	id = DWCourt.426
	desc = DWCourt426
	picture = exotic_book_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -10
		add_artifact = dw_basic_martial_book
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .428 Basic Learning Book - Mediterranean Mysteries
narrative_event = {
	id = DWCourt.428
	desc = DWCourt428
	picture = exotic_book_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -10
		add_artifact = dw_basic_learning_book
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .430 Aladdin's Lamp
narrative_event = {
	id = DWCourt.430
	desc = DWCourt430
	picture = exotic_lamp_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -50
		add_artifact = dw_aladdins_lamp
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .440 Female Wolf Plate Armor
narrative_event = {
	id = DWCourt.440
	desc = DWCourt440
	picture = exotic_armor_female_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -150
		add_artifact = dw_armor_female_wolf_plate
		hidden_effect = {
			clear_shopping_character_flags = yes
			becomes_alpha_bitch = yes
		}
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}
# .450 Diablerie book
narrative_event = {
	id = DWCourt.450
	desc = DWCourt450
	picture = exotic_book_1
	title = dw_exotic_shopping
	is_triggered_only = yes # Triggered by .400
	option = {
		name = DWCourtBUYIT
		wealth = -50
		add_artifact = dw_diablerie_book
		hidden_effect = { clear_shopping_character_flags = yes }
	}
	option = { # Nothing today thanks
		name = DWCourtNothing
		hidden_effect = { clear_shopping_character_flags = yes }
	}
}

# .900 Jus Primae Noctis (Right of First Night) Sent to employers of both spouses - ROOT is employer. FROM is employers "employee". new_character is the other spouse
character_event = {
	id = DWCourt.900
	hide_window = yes # Nothing to see here
	is_triggered_only = yes # triggered by marriage on_action
	only_rulers = yes # Pre-trigger to ensure only rulers have a chance to see this
	trigger = {
		has_law = dw_first_night_law_1 # We only process this if we've got the proper law
		has_cock = yes
		is_adult = yes
		NOT = { has_character_flag = dw_run_once }
	}
	immediate = {
		# We identify the bride and groom
		if = {
			limit = {
				FROM = { is_female = yes } # The woman was a member of our court
			}
			FROM = {
				save_event_target_as = dw_bride
			}
			new_character = {
				save_event_target_as = dw_groom
			}
		}
		else = {
			FROM = {
				save_event_target_as = dw_groom
			}
			new_character = {
				save_event_target_as = dw_bride
			}
		}
		# We set some special target flags to handle custom descriptions
		if = {
			limit = {
				event_target:dw_bride = { spouse = { character = ROOT } }
			}
			liege = {
				set_character_flag = dw_target_wife
			}
		}
		else_if = {
			limit = {
				event_target:dw_bride = { is_mother = ROOT }
			}
			liege = {
				set_character_flag = dw_target_mom
			}
		}
		else_if = {
			limit = {
				event_target:dw_bride = { is_child_of = ROOT }
			}
			liege = {
				set_character_flag = dw_target_daughter
			}
		}
		event_target:dw_bride = {
			liege = {
				set_character_flag = dw_run_once
				narrative_event = { id = DWCourt.910} # Decision to have first night or not
				character_event = { id = DWCourt.999 days = 1 } # flag clean-up
			}
		}
	}
}
# .910 Ruler decides if they'll use their right or not.
narrative_event = {
	id = DWCourt.910
	picture = first_night_right
	title = dw_first_night_title
	is_triggered_only = yes # by .900
	desc = {
		trigger = { # It's my wife
			has_character_flag = dw_target_wife
		}
		text = DWCourt910.0
	}
	desc = {
		trigger = { # It's my mother
			has_character_flag = dw_target_mom
		}
		text = DWCourt910.1
	}
	desc = {
		trigger = { # It's my daughter
			has_character_flag = dw_target_daughter
		}
		text = DWCourt910.2
	}
	desc = {
		trigger = { # It's not my wife, mother, or daughter
			NOR = {
				has_character_flag = dw_target_wife
				has_character_flag = dw_target_mom
				has_character_flag = dw_target_daughter
			}
		}
		text = DWCourt910.3
	}
	trigger = {
		NOR = {
			event_target:dw_bride = { # Trying to ensure that we don't catch ourselves if we're the bride (Futa catch)
				character = ROOT
			}
		}
	}
	immediate = {
		# Setting event targets for when we jump over to the DWSex events.
		save_event_target_as = male_lover_1
		event_target:dw_bride = { save_event_target_as = female_lover_1 }
	}
	option = { # Exercise my right (not shown if it's my own bride)
		trigger = {
			NOT = {
				has_character_flag = dw_target_wife
			}
		}
		name = DWCourt910A
		event_target:dw_bride = {
			spouse = {
				opinion = {
					modifier = dw_slept_with_wife
					who = ROOT
				}
			}
		}
		narrative_event = { id = DWCourt.920 }
		hidden_effect = {
			if = { # If it's with a close family member, then there may be a negative impact for an incestous coupling, or a positive impact if of the applicable religion
				limit = {
					event_target:dw_bride = {
						any_close_relative = {
							character = ROOT
						}
					}
				}
				if = {
					limit = {
						OR = {
							religion = zoroastrian
							religion = messalian
						}
					}
					piety = 200 # Divine Blood based piety gain
				}
				else = {
					add_character_modifier = { name = dw_willing_incest years = 5 }
				}
			}
		}
	}
	option = { # Waive my right (not shown if it's my own bride)
		trigger = {
			NOT = {
				has_character_flag = dw_target_wife
			}
		}
		name = DWCourt910B
		event_target:dw_bride = {
			spouse = {
				opinion = {
					modifier = dw_not_slept_with_wife
					who = ROOT
				}
			}
		}
	}
	option = { # I shall enjoy my wife
		trigger = {
			has_character_flag = dw_target_wife
		}
		name = DWCourt910C
		narrative_event = { id = DWSex.140 } # TODO - change the entry point for this chain once expanded further
	}
}
# .920 Ruler takes the bride from behind
narrative_event = {
	id = DWCourt.920
	desc = DWCourt920
	picture = first_night_behind1
	title = dw_first_night_title
	is_triggered_only = yes # by .910
	option = { # Cum inside
		name = DWCourt920A
		event_target:dw_bride = {
			character_event = { id = DWCore.9000 }
		}
	}
	option = { # Cum outside
		name = DWCourt920B
		narrative_event = { id = DWSex.190 }
	}
}
# .999 Clears the Right to First Night flag from the ruler
character_event = {
	id = DWCourt.999
	is_triggered_only = yes
	hide_window = yes # Nothing to see here
	immediate = {
		clr_character_flag = dw_run_once
		clear_target_flags = yes
	}
}
# .1000 Player seeks a Court Jester
narrative_event = {
	id = DWCourt.1000
	desc = "DWCourt1000"
	picture = court_jester_tired
	title = dw_wanted_court_jester
	is_triggered_only = yes # Triggered by decision
	option = { # Just grab a local with a sense of humor
		name = "DWCourt1000A"
		narrative_event = { id = DWCourt.1001 days = 2 }
	}
	option = { # Let's put a small fee out there for some talent
		trigger = {
			wealth = 5
		}
		name = "DWCourt1000B"
		wealth = -5
		random_list = {
			25 = { # Joker
				modifier = {
					factor = 0 # If there is already a Joker in the world, we don't want this to be an option
					any_rival = {
						has_character_flag = dw_npc_joker
					}
				}
				narrative_event = { id = DWCourt.1003 days = 2 }
			}
			75 = { # Dwarf Jester
				narrative_event = { id = DWCourt.1005 days = 2 }
			}
		}
	}
	option = { # Hire one of those professional Italian comedians, a Harlequin I believe they're called
		trigger = {
			wealth = 10
		}
		name = "DWCourt1000C"
		wealth = -10
		narrative_event = { id = DWCourt.1006 days = 2 } # Enter Harley Quinn
	}
	option = { # Wait, never mind
		name = "DWCourt1000D"
	}
}
# .1001 Player gets a cheap Court Jester
narrative_event = {
	id = DWCourt.1001
	desc = "DWCourt1001"
	picture = facepalm
	title = dw_wanted_court_jester
	is_triggered_only = yes # triggered by .1000
	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = no
			age = 20
			religion = ROOT
			culture = ROOT
			trait = slow
			attributes = {
				diplomacy = 3
				intrigue = 3
				stewardship = 3
				martial = 3
				learning = 3
			}
		}
		new_character = {
			give_minor_title = title_court_jester
			character_event = { id = DWCore.10 } # Will randomly assign a cock size
			random_list = { # The commoner was selected due to a short coming.
				25 = { add_trait = hunchback }
				25 = { add_trait = dwarf }
				25 = { add_trait = lisp }
				25 = { add_trait = ugly }
			}
			save_event_target_as = dw_cheap_jester
		}
		clr_character_flag = dw_jester_shopping
	}
	option = { # Keep him
		name = "DWCourt1001A"
	}
	option = { # Get rid of him
		name = "DWCourt1001B"
		event_target:dw_cheap_jester = {
			banish = yes
		}
	}
}
# .1003 Player gets the Joker
narrative_event = {
	id = DWCourt.1003
	desc = "DWCourt1003"
	picture = joker_hello
	title = dw_wanted_court_jester
	is_triggered_only = yes # triggered by .1000
	immediate = {
		create_character = {
			random_traits = no
			dynasty = none
			name = Joker
			female = no
			age = 21
			religion = ROOT
			culture = ROOT
			race = english
			dna = bmidhikdgbv
			trait = portrait2 # Joker custom image
			trait = flamboyant_schemer
			trait = lunatic
			trait = quick
			trait = wroth
			trait = deceitful
			trait = arbitrary
			trait = cynical
			trait = cruel
			attributes = {
				diplomacy = 3
				intrigue = 8
				stewardship = 3
				martial = 5
				learning = 8
			}
		}
		new_character = {
			give_minor_title = title_court_jester
			character_event = { id = DWCore.10 } # Will randomly assign a cock size
			set_character_flag = dw_npc_joker
			save_event_target_as = dw_jester
		}
		clr_character_flag = dw_jester_shopping
	}
	option = { # Keep him
		name = "DWCourt1003A"
	}
	option = { # Get rid of him
		name = "DWCourt1003B"
		narrative_event = { id = DWCourt.1004 }
	}
}
# .1004 Player gets the Joker as a rival after banishing him
narrative_event = {
	id = DWCourt.1004
	desc = "DWCourt1004"
	picture = joker_hello
	title = dw_wanted_court_jester
	is_triggered_only = yes # triggered by .1003
	option = { # A rivalry is born
		name = "DWCourt1004A"
		event_target:dw_jester = {
			banish = yes
			add_rival = ROOT
		}
	}
}
# .1005 Player gets a dwarven jester
narrative_event = {
	id = DWCourt.1005
	desc = "DWCourt1005"
	picture = court_jester_dwarf
	title = dw_wanted_court_jester
	is_triggered_only = yes # triggered by .1000
	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = no
			age = 22
			religion = ROOT
			culture = ROOT
			trait = flamboyant_schemer
			trait = dwarf
			attributes = {
				intrigue = 6
				martial = 2
				learning = 4
			}
		}
		new_character = {
			give_minor_title = title_court_jester
			character_event = { id = DWCore.10 } # Will randomly assign a cock size
			save_event_target_as = dw_jester
		}
		clr_character_flag = dw_jester_shopping
	}
	option = { # Keep him
		name = "DWCourt1005A"
	}
	option = { # Get rid of him
		name = "DWCourt1005B"
		event_target:dw_jester = {
			banish = yes
		}
	}
}
# .1006 Player gets Harley
narrative_event = {
	id = DWCourt.1006
	desc = "DWCourt1006"
	picture = harley_hello
	title = dw_wanted_court_jester
	is_triggered_only = yes # triggered by .1000
	immediate = {
		create_character = {
			random_traits = no
			name = Harley
			dynasty = none
			female = yes
			age = 16
			religion = ROOT
			culture = ROOT
			race = norse
			dna = aghefaecgca
			health = 5.5
			trait = fair
			trait = quick
			trait = regular_tits
			trait = lunatic
			trait = flamboyant_schemer
			trait = arbitrary
			trait = gregarious
			trait = lustful
			trait = portrait1 # Harley's photo
			attributes = {
				diplomacy = 3
				intrigue = 8
				stewardship = 3
				martial = 5
				learning = 5
			}
		}
		new_character = {
			give_minor_title = title_court_jester
			set_character_flag = special_spymaster #She can work as a spymaster regardless of culture/religion
			set_character_flag = dw_boobs_checked
			set_character_flag = dw_npc_harley
			save_event_target_as = dw_jester
			if = {  # For Christianity mod compatibility, to prevent a second set of tits getting assigned later
				limit = {
					has_global_flag = christ_enabled
				}
				set_character_flag = nada_checked
			}
		}
		clr_character_flag = dw_jester_shopping
	}
	option = { # Keep her
		name = "DWCourt1006A"
	}
	option = { # Get rid of her
		name = "DWCourt1006B"
		event_target:dw_jester = {
			banish = yes
		}
	}
}

### Council Events - .3000 Chancellor specific
# .3000 Motivate Chancellor - routing check (liege - hidden)
character_event = {
	id = DWCourt.3000
	hide_window = yes # Nothing to see
	is_triggered_only = yes # Triggered by targeted decision
	immediate = {
		FROM = { save_event_target_as = dw_chancellor } # We go ahead and save the event target for processing stuff later
		if = {
			limit = {
				FROM = {
					is_female = no # Our Chancellor is a man
				}
			}
			narrative_event = { id = DWCourt.3001 }
			break = yes # We exit the immediate block
		}
		# If we get here, our Chancellor is a woman
		narrative_event = { id = DWCourt.3003 }
	}
}
# .3001 Motivate Male Chancellor in the Fabrication of Claims (player)
narrative_event = {
	id = DWCourt.3001
	desc = "DWCourt3001"
	picture = chancellor_default
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3000
	option = { #Some extra coin for bribes
		trigger = {
			treasury = 50 # Is there enough coin to handle some bribes?
		}
		name = "DWCourt3001A"
		treasury = -50
		if = {
			limit = {
				event_target:dw_chancellor = {
					intrigue = 10 #If our diplomat has at least an intrigue of 10, they're successful in their bribe attempts
				}
			}
			event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }} # Leads to the claim being successfully fabricated
			break = yes # Removes us from this option block
		}
		# This processes if our chancellor has a intrigue below 10
		random_list = {
			50 = { narrative_event = { id = DWCourt.3009 days = 21 }} # Liege notified that the bribe failed
			50 = { event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 21 }} } # Leads to the claim being successfully fabricated
		}
	}
	option = { #A lovers caress can inspire
		trigger = {
			is_adult = yes # only adult players should see this
			NOT = { trait = chaste } # And the player shouldn't be chaste
			NOT = { event_target:dw_chancellor = { trait = chaste } } # And nor should our target
		}
		name = "DWCourt3001B"
		character_event = {	id = DWCourt.3010 }
	}

	option = { #Allow the chancellor to name drop you and your great deeds
		trigger = {
			prestige = 300
		}
		name = "DWCourt3001C"
		event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }}
		prestige = -150 # The prestige cost doesn't equal the trigger amount because the trigger indicates the renown needed to be known, and the cost is the loss from the ultimately shady deal
	}

	option = { #Allow the chancellor to speak of your spiritual purity
		trigger = { piety = 300 }
		name = "DWCourt3001D"
		event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }}
		piety = -150 # Difference between trigger and actual cost is the same issue as the prestige hit mentioned above.
	}

	option = { #Provide the Chancellor some dirt to blackmail people.
		name = "DWCourt3001E"
		trigger = { intrigue = 15 }
		tooltip_info = intrigue
		event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }}
	}

	option = {
		name = "DWCourt3001F" #Player opts to let the Chancellor do their thing
	}
}
# .3003 Motivate Female Chancellor in the Fabrication of Claims (player)
narrative_event = {
	id = DWCourt.3003
	desc = "DWCourt3001"
	picture = chancellor__female_default
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3000
	option = { #Some extra coin for bribes
		trigger = {
			treasury = 50 # Is there enough coin to handle some bribes?
		}
		name = "DWCourt3001A"
		treasury = -50
		if = {
			limit = {
				event_target:dw_chancellor = {
					intrigue = 10 #If our diplomat has at least an intrigue of 10, they're successful in their bribe attempts
				}
			}
			event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }} # Leads to the claim being successfully fabricated
			break = yes # Removes us from this option block
		}
		# This processes if our chancellor has a intrigue below 10
		random_list = {
			50 = { narrative_event = { id = DWCourt.3009 days = 21 }} # Liege notified that the bribe failed
			50 = { event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 21 }} } # Leads to the claim being successfully fabricated
		}
	}
	option = { #A lovers caress can inspire
		trigger = {
			is_adult = yes # only adult players should see this
			NOT = { trait = chaste } # And the player shouldn't be chaste
			NOT = { event_target:dw_chancellor = { trait = chaste } } # And nor should our target
		}
		name = "DWCourt3001B"
		character_event = {	id = DWCourt.3010 }
	}

	option = { #Allow the chancellor to name drop you and your great deeds
		trigger = {
			prestige = 300
		}
		name = "DWCourt3001C"
		event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }}
		prestige = -150 # The prestige cost doesn't equal the trigger amount because the trigger indicates the renown needed to be known, and the cost is the loss from the ultimately shady deal
	}

	option = { #Allow the chancellor to speak of your spiritual purity
		trigger = { piety = 300 }
		name = "DWCourt3001D"
		event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }}
		piety = -150 # Difference between trigger and actual cost is the same issue as the prestige hit mentioned above.
	}

	option = { #Provide the Chancellor some dirt to blackmail people.
		name = "DWCourt3001E"
		trigger = { intrigue = 15 }
		tooltip_info = intrigue
		event_target:dw_chancellor = { character_event = { id = DWCourt.3005 days = 14 }}
	}

	option = {
		name = "DWCourt3001F" #Player opts to let the Chancellor do their thing
	}
}
# .3005 Chancellor check to ensure has_job_action = action_fabricate_claims is still valid before triggering the Successful Fabrication event (hidden, chancellor)
character_event = {
	id = DWCourt.3005
	hide_window = yes # Nothing to see here
	is_triggered_only = yes # Triggered by .3001/.3003
	trigger = {
		has_job_action = action_fabricate_claims # If this is not true, then the immediate action below shouldn't run
	}
	immediate = {
		character_event = { id = 913}
	}
}
# .3009 Liege notified by Chancellor that the bribe failed (liege)
narrative_event = {
	id = DWCourt.3009
	desc = "DWCourt3009"
	picture = chancellor_default
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3001/.3003
	trigger = {
		has_job_action = action_fabricate_claims # If this is not true, then the immediate action below shouldn't run
	}
	option = { # Bah, incompetence
		name = "DWCourt3009A"
	}
}

# .3010 Liege motivates Chancellor with sex - routing check (liege - hidden)
character_event = {
	id = DWCourt.3010
	hide_window = yes # Nothing to see
	is_triggered_only = yes # Triggered from .3001/.3003
	immediate = {
		if = {
			limit = { # Both liege and chancellor are women
				is_female = yes
				event_target:dw_chancellor = {
					is_female = yes
				}
			}
			if = {
				limit = { # Chancellor is gay or is a lover
					OR = {
						event_target:dw_chancellor = {
							trait = homosexual
						}
						is_lover = event_target:dw_chancellor
					}
				}
				narrative_event = { id = DWCourt.3011 } # Lesbian event
			}
			# If we reach this point, then the liege and chancellor are not a match and the chancellor will refuse the offer
			narrative_event = { id = DWCourt.3019 } # Liege DENIED
		}
		if = {
			limit = { # Liege is woman and chancellor is a man
				is_female = yes
				event_target:dw_chancellor = {
					is_female = no
				}
			}
			# No sex denied events at this time, some may be added in the future as a TODO
			narrative_event = { id = DWCourt.3013 } # Sex event
		}
		if = {
			limit = { # Both liege and chancellor are men
				is_female = no
				event_target:dw_chancellor = {
					is_female = no
				}
			}
			if = {
				limit = { # Chancellor is gay or is a lover
					OR = {
						event_target:dw_chancellor = {
							trait = homosexual
						}
						is_lover = event_target:dw_chancellor
					}
				}
				narrative_event = { id = DWCourt.3012 } # Gay event
			}
			# If we reach this point, then the liege and chancellor are not a match and the chancellor will refuse the offer
			narrative_event = { id = DWCourt.3019 } # Liege DENIED
		}
		if = {
			limit = { # Liege is man and chancellor is a woman
				is_female = no
				event_target:dw_chancellor = {
					is_female = yes
				}
			}
			# No sex denied events at this time, some may be added in the future as a TODO
			narrative_event = { id = DWCourt.3014 } # Sex Event
		}
	}
}
# .3011 Liege and Chancellor Lesbian scene (liege)
narrative_event = {
	id = DWCourt.3011
	desc = "DWCourt3011"
	picture = chancellor_female_female_1
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3010
	option = { # Well worth the motivation
		name = "DWCourt3011A"
		event_target:dw_chancellor = {
			character_event = { id = DWCourt.3005 days = 14 }
		}
	}
}
# .3012 Liege and Chancellor Lesbian scene (liege)
narrative_event = {
	id = DWCourt.3012
	desc = "DWCourt3012"
	picture = chancellor_male_male_1
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3010
	option = { # Well worth the motivation
		name = "DWCourt3012A"
		event_target:dw_chancellor = {
			character_event = { id = DWCourt.3005 days = 14 }
		}
	}
}
# .3013 Female Liege and Male Chancellor sex scene (liege)
narrative_event = {
	id = DWCourt.3013
	desc = "DWCourt3013"
	picture = chancellor_male_female_1
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3010
	option = { # Well worth the motivation
		name = "DWCourt3013A"
		event_target:dw_chancellor = {
			character_event = { id = DWCourt.3005 days = 14 }
			character_event = { id = DWCore.9005 } # Pregnancy check
		}
	}
}
# .3014 Female Liege and Male Chancellor sex scene (liege)
narrative_event = {
	id = DWCourt.3014
	desc = "DWCourt3014"
	picture = chancellor_male_female_1
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3010
	option = { # Well worth the motivation
		name = "DWCourt3014A"
		event_target:dw_chancellor = {
			character_event = { id = DWCourt.3005 days = 14 }
			character_event = { id = DWCore.9000 } # Pregnancy check
		}
	}
}
# .3019 Liege advance denied by Chancellor (liege)
narrative_event = {
	id = DWCourt.3019
	desc = "DWCourt3019"
	picture = denied
	title = dw_chancellor_claim_motivation
	is_triggered_only = yes # Triggered by .3010
	option = { # Bah, they don't know what they're missing
		name = "DWCourt3019A"
	}
}
## Council Events - .3100 Marshal specific
# .3100 Marshall's Morale Building idea
narrative_event = {
	id = DWCourt.3100
	picture = a_placeholder
	desc = {
		trigger = {
			event_target:dw_my_marshall= { NOT = { is_female = yes } }
		}
		text = DWCourt3100
		picture = marshall_default
	}
	desc = {
		trigger = {
			event_target:dw_my_marshall= { is_female = yes }
		}
		text = DWCourt3100
		picture = marshall_female_default
	}
	title = dw_stables_morale_title
	ai = no # Pre-trigger as only the player should get this
	is_triggered_only = yes # triggered by on_action - decade pulse random event
	trigger = {
		NOT = { has_global_flag = dw_stable_morale_visits } # We don't need to run this a second time if we've already activated it.
		has_bestiality_content = yes # The player has selected that they're okay with animal sexual content
		has_valid_stable = yes # Pointless to offer this without a valid stable
		# We ensure we've a Marshall assigned, otherwise we've no one to raise this issue
		any_realm_character = {
			has_job_title = job_marshal
		}
	}
	immediate = {
		random_realm_character = {
			limit = {
				has_job_title = job_marshal
			}
			save_event_target_as = dw_my_marshall
		}
	}
	option = { # Let's do it
		name = DWCourt3100A
		set_global_flag = dw_stable_morale_visits
	}
	option = { # Oh hell no
		name = DWCourt3100B
	}
}

# .3110 Visiting the Stables
narrative_event = {
	id = DWCourt.3110
	desc = DWCourt3110
	picture = stable
	title = dw_stables_morale_title
	hide_from = yes # We do this to keep from seeing any of the event_targets that we set-up.
	is_triggered_only = yes # triggered by decision
	immediate = {
		# We're going to set someone as being present in the crowd, to use if the ruler partakes themselves
		random_courtier = {
			limit = {
				is_adult = yes
				ai = yes
			}
			save_event_target_as = dw_stable_show_viewer
		}
		random_list = {
			25 = {
				trigger = {
					any_courtier_or_vassal = {
						has_minor_title = title_commander
						is_potential_slut = yes
					}
				}
				random_courtier_or_vassal = {
					limit = {
						has_minor_title = title_commander
						is_potential_slut = yes
					}
					save_event_target_as = dw_horse_breeder_commander
				}
			}
			25 = {
				trigger = {
					any_courtier = {
						has_character_flag = dw_npc_belle
					}
				}
				random_courtier = {
					limit = {
						has_character_flag = dw_npc_belle
					}
					save_event_target_as = dw_horse_breeder_belle
				}
			}
		}
	}
	option = { # I shall partake of the festivities
		name = DWCourt3110A
		random_list = {
			20 = {
				trigger = {
					is_female = yes
				}
				narrative_event = { id = DWCourt.3120 } # Stallion Series chain (multiple end chances)
			}
			20 = {
				trigger = {
					NOT = { is_female = yes }
				}
				narrative_event = { id = DWCourt.3160 } # Fucking a Mare
			}
		}
	}
	option = { # Random commander
		trigger = {
			event_target:dw_horse_breeder_commander = { character = yes } # We've a valid character as the event target
		}
		name = DWCourt3110B
		event_target:dw_horse_breeder_commander = { # Giving the commander the modifier here adds their image to the option, making it easy to recognize who is getting selected to participate
			add_character_modifier = {
				modifier = dw_morale_booster # Small bump to general opinion
				duration = 90 # 90 days
			}
		}
		random_list = {
			20 = { # Male commander boning a horse
				trigger = {
					event_target:dw_horse_breeder_commander = { is_female = no }
				}
				narrative_event = { id = DWCourt.3130 }
			}
			20 = { # Female commander boning a horse
				trigger = {
					event_target:dw_horse_breeder_commander = { is_female = yes }
				}
				narrative_event = { id = DWCourt.3131 }
			}
		}
	}
	option = { # Belle
		trigger = {
			event_target:dw_horse_breeder_belle = { character = yes } # We've a valid character as the event target
		}
		name = DWCourt3110Belle
		narrative_event = { id = DWCourt.3150 }
	}
	option = { # Sure, I'll watch a show
		name = DWCourt3110C
		random_list = {
			20 = { # Commoner preparing stallion
				narrative_event = { id = DWCourt.3140 }
			}
			20 = { # Belle
				trigger = {
					event_target:dw_horse_breeder_belle = { character = yes }
				}
				narrative_event = { id = DWCourt.3150 }
			}
			20 = { # Male commander boning a horse
				trigger = {
					event_target:dw_horse_breeder_commander = {
						is_female = no
						character = yes
					}
				}
				narrative_event = { id = DWCourt.3130 }
			}
			20 = { # Female commander boning a horse
				trigger = {
					event_target:dw_horse_breeder_commander = {
						is_female = yes
						character = yes
					}
				}
				narrative_event = { id = DWCourt.3131 }
			}
		}
	}
	option = { # Going to pass today
		name = DWCourt3110D
	}
}

# .3120 Stable Morale Show - Ruler (female) series start
narrative_event = {
	id = DWCourt.3120
	desc = DWCourt3120
	picture = stable_ruler_female_1
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3110
	option = { # Playing a bit more
		name = DWCourt3120A
		hidden_effect = {
			narrative_event = { id = DWCourt.3121 }
		}
	}
	option = { # Putting this sucker inside me
		name = DWCourt3120B
		hidden_effect = { narrative_event = { id = DWCourt.3123 } }
	}
	option = { # That's all for today folks
		name = DWCourt3120C
		event_target:dw_stable_show_viewer = {
			opinion = {
				modifier = dw_opinion_good_cock_tease
				who = ROOT
			}
		}
	}
}
# .3121 Stable Morale Show - Ruler (female) series cock admiration
narrative_event = {
	id = DWCourt.3121
	desc = DWCourt3121
	picture = stable_ruler_female_2
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3120
	option = { # More oral attention
		name = DWCourt3121A
		hidden_effect = { narrative_event = { id = DWCourt.3122 } }
	}
	option = { # Putting this sucker inside me
		name = DWCourt3121B
		hidden_effect = { narrative_event = { id = DWCourt.3123 } }
	}
	option = { # That's all for today folks - reused from 3120
		name = DWCourt3120C
		event_target:dw_stable_show_viewer = {
			opinion = {
				modifier = dw_opinion_good_cock_tease
				who = ROOT
			}
		}
	}
}
# .3122 Stable Morale Show - Ruler (female) series blow job
narrative_event = {
	id = DWCourt.3122
	desc = DWCourt3122
	picture = stable_ruler_female_3
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3121
	option = { # Like the stallion, I'm finished.
		name = DWCourt3122A
		add_character_modifier = {
			modifier = dw_morale_booster # Small bump to troop opinion
			duration = 90 # 90 days
		}
		hidden_effect = {
			beast_lover_check = yes
		}
	}
	option = { # Putting this sucker inside me - used from 3121
		name = DWCourt3121B
		hidden_effect = { narrative_event = { id = DWCourt.3123 } }
	}
}
# .3123 Stable Morale Show - Ruler (female) series mounted
narrative_event = {
	id = DWCourt.3123
	desc = DWCourt3123
	picture = stable_ruler_female_4
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3120-3122
	option = { # Like the stallion, I'm finished. - used from 3122
		name = DWCourt3122A
		add_character_modifier = {
			modifier = dw_morale_booster # Small bump to troop opinion
			duration = 90 # 90 days
		}
		hidden_effect = {
			beast_lover_check = yes
		}
	}
}
# .3130 Stable Morale Show - Commander (male) boning  mare
narrative_event = {
	id = DWCourt.3130
	desc = DWCourt3130
	picture = stable_commander_male_1
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3110
	option = { # Way to bond with the beast!
		name = DWCourt3130A
		hidden_effect = {
			event_target:dw_horse_breeder_commander = {
				beast_lover_check = yes
			}
		}
	}
}
# .3131 Stable Morale Show - Commander (female) boning  mare (part 1)
narrative_event = {
	id = DWCourt.3131
	desc = DWCourt3131
	picture = stable_commander_female_1
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3110
	option = { # Way to bond with the beast!
		name = DWCourt3131A
		narrative_event = { id = DWCourt.3132 }
	}
}
# .3132 Stable Morale Show - Commander (female) boning  mare (part 2)
narrative_event = {
	id = DWCourt.3132
	desc = DWCourt3132
	picture = stable_commander_female_2
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3131
	option = { # Way to bond with the beast!
		name = DWCourt3132A
		hidden_effect = {
			event_target:dw_horse_breeder_commander = {
				beast_lover_check = yes
			}
		}
	}
}
# .3140 Stable Morale Show - Commoner preparing stallion
narrative_event = {
	id = DWCourt.3140
	desc = DWCourt3140
	picture = stable_commoner_1
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3110
	option = { # Tips performer
		name = DWCourt3140A
		wealth = -2
		add_character_modifier = {
			modifier = dw_generous_tipper # Small bump to general opinion
			duration = 90 # 90 days
		}
	}
	option = { # Huzzah!
		name = DWCourt3140B
	}
}
# .3150 Stable Show - Belle banged
narrative_event = {
	id = DWCourt.3150
	desc = DWCourt3150
	picture = stable_belle_1
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3110
	option = { # My she's expanded her horizons.
		name = DWCourt3150A
		hidden_effect = {
			event_target:dw_horse_breeder_belle = {
				beast_lover_check = yes
			}
		}
	}
	# TO DO Option where the player can proposition Belle afterwards
}
# .3160 Stable Morale Show - Ruler (male) screws mare
narrative_event = {
	id = DWCourt.3160
	desc = DWCourt3160
	picture = stable_ruler_male_1
	title = dw_stables_morale_title
	is_triggered_only = yes # triggered by .3110
	option = { # Ah release
		name = DWCourt3160A
		add_character_modifier = {
			modifier = dw_morale_booster # Small bump to troop opinion
			duration = 90 # 90 days
		}
		hidden_effect = {
			beast_lover_check = yes
		}
	}
}
# .3800 SpyMaster Kidnapping Attempt
narrative_event = {
	id = DWCourt.3800
	picture = a_placeholder
	title = dw_kidnap_title
	is_triggered_only = yes # by targetted_decision
	desc = { # Female Spymaster
		trigger = {
			has_female_spymaster = yes
		}
		text = DWCourt3800
		picture = spymaster_female
	}
	desc = { # Male Spymaster
		trigger = {
			NOT = { has_female_spymaster = yes }
		}
		text = DWCourt3800
		picture = spymaster_male
	}
	immediate = {
		FROM = { # We set the kidnap target
			save_event_target_as = dw_kidnap_target
		}
		# And we set the SpyMaster of the realm the target is in
		event_target:dw_kidnap_target = {
			top_liege = {
				job_spymaster = {
					save_event_target_as = dw_kidnap_target_spymaster
				}
			}
		}
		# And the liege of the realm as well in case we have to stick the SpyMaster into their prison
		event_target:dw_kidnap_target = {
			top_liege = {
				save_event_target_as = dw_kidnap_target_liege
			}
		}
	}
	option = { # Proceed as normal
		name = DWCourt3800A
		wealth = -50
		kidnap_attempt_basic = yes
	}
	option = { # Spare no expense
		trigger = {
			wealth = 100
		}
		name = DWCourt3800B
		wealth = -100
		kidnap_attempt_improved = yes
	}
	option = { # I've changed my mind
		name = DWCourt3800C
	}
}
# .3801 Kidnapping Success!
narrative_event = {
	id = DWCourt.3801
	picture = a_placeholder
	title = dw_kidnap_title
	is_triggered_only = yes # by targetted_decision
	desc = { # Male Werewolf captured
		trigger = {
			event_target:dw_kidnap_target = {
				trait = werewolf
				is_female = no
			}
		}
		text = DWCourt3801
		picture = prisoner_male_werewolf1
	}
	desc = { # Male captured
		trigger = {
			event_target:dw_kidnap_target = {
				NOT = { trait = werewolf } # Since we've a custom werewolf trait, we want to ensure we don't post this one by accident for a werewolf male
				is_female = no
			}
		}
		text = DWCourt3801
		picture = prisoner_male1
	}
	desc = { # Female Werewolf captured
		trigger = {
			event_target:dw_kidnap_target = {
				trait = werewolf
				is_female = yes
			}
		}
		text = DWCourt3801
		picture = prisoner_female_werewolf1
	}
	desc = { # Futa captured
		trigger = {
			event_target:dw_kidnap_target = {
				trait = futa
			}
		}
		text = DWCourt3801
		picture = prisoner_futa1
	}
	desc = { # Female captured (not werewolf or futa)
		trigger = {
			event_target:dw_kidnap_target = {
				NOT = { trait = futa }
				NOT = { trait = werewolf }
				is_female = yes
			}
		}
		text = DWCourt3801
		picture = prisoner_female1
	}
	option = { # Welcome to my dungeon
		name = DWCourt3801A
		event_target:dw_kidnap_target = {
			imprison = ROOT
		}
	}
}

## Wizards Tower Visit
# .5000 Visit the Wizards Tower
narrative_event = {
	id = DWCourt.5000
	desc = "DWCourt5000"
	picture = wizard_default
	title = dw_wizard_tower_ruler_visit
	is_triggered_only = yes # Triggered via visit wizard tower decision
	option = { # I'd like to have a Wizard's Order member in my court
		trigger = {
			ai = no # We don't want the ai spawning the mages before the player has a chance to do so.
		}
		name = DWCourt5000A
		narrative_event = { id = DWCourt.5010 }
	}
	option = { # I've nothing else to visit about
		name = DWCourt5000D
	}
}
# .5010 Request to have a Wizard's Order member join my court
narrative_event = {
	id = DWCourt.5010
	desc = "DWCourt5010"
	picture = wizard_default
	title = dw_wizard_tower_ruler_visit
	is_triggered_only = yes # Triggered by .5000
	option = { # Hermione
		trigger = {
			NOT = { has_global_flag = dw_npc_hermione_created }
		}
		name = DWCourt5010A
		narrative_event = { id = DWCourt.5011 }
	}
	option = { # Sorcey
		trigger = {
			NOT = { has_global_flag = dw_npc_sorcey_created }
		}
		name = DWCourt5010B
		narrative_event = { id = DWCourt.5012 }
	}
	#TO DO - Add more recruits
	option = { # Never mind
		trigger = {
			NOT = { # As long as all of the options have not yet been created, we'll give the requester a chance to back out.
				has_global_flag = dw_npc_hermione_created
				has_global_flag = dw_npc_sorcey_created
			}
		}
		name = DWCourt5010D
	}
	option = { # There is no one left to invite
		trigger = {
			has_global_flag = dw_npc_hermione_created
			has_global_flag = dw_npc_sorcey_created
		}
		name = DWCourt5010None
	}
}
# .5011 Hermione joins the court
narrative_event = {
	id = DWCourt.5011
	desc = "DWCourt5011"
	picture = wizard_hermione
	title = dw_wizard_tower_ruler_visit
	is_triggered_only = yes # Triggered by .5010
	immediate = {
		create_character = {
			random_traits = no
			name = Hermione
			dynasty = none
			female = yes
			age = 16
			religion = ROOT
			culture = ROOT
			race = english
			dna = camgjbmgfaz
			health = 5.0
			trait = fair
			trait = genius
			trait = regular_tits
			trait = mage
			trait = charismatic_negotiator
			trait = diligent
			trait = stubborn
			trait = cynical
			trait = proud
			trait = virgin
			trait = portrait5 # Hermione's photo
			attributes = {
				diplomacy = 3
				intrigue = 4
				stewardship = 3
				martial = 4
				learning = 6
			}
		}
		new_character = {
			save_event_target_as = dw_target_hermione
			set_character_flag = special_chancellor # Allows her to be set as a chancellor even though she's a woman
			set_character_flag = special_spymaster # Allows her to be set as a spy master even though she's a woman
			set_character_flag = special_spiritual # Allows her to be set as a spiritual leader even though she's a woman
			give_minor_title = title_court_wizard
			set_character_flag = dw_boobs_checked
			set_character_flag = dw_npc_hermione
			if = {  # For Christianity mod compatibility, to prevent a second set of tits getting assigned later
				limit = {
					has_global_flag = christ_enabled
				}
				set_character_flag = nada_checked
			}
		}
		set_global_flag = dw_npc_hermione_created
	}
	option = { # Welcome Hermione
		name = DWCourt5011A
		hidden_tooltip = {
			character_event = { id = DWCourt.5250 days = 360 } # We check it a year from now
		}
	}
}
# .5012 Sorcey joins the court
narrative_event = {
	id = DWCourt.5012
	desc = "DWCourt5012"
	picture = wizard_sorcey
	title = dw_wizard_tower_ruler_visit
	is_triggered_only = yes # Triggered by .5010
	immediate = {
		create_character = {
			random_traits = no
			name = Sorcey
			dynasty = none
			female = yes
			age = 19
			religion = ROOT
			culture = ROOT
			race = swedish
			dna = dbichbjbebh
			health = 5.0
			trait = fair
			trait = shrewd
			trait = gigantic_tits
			trait = mage
			trait = thrifty_clerk
			trait = charitable
			trait = humble
			trait = cynical
			trait = lustful
			trait = portrait6 # Sorcey's photo
			attributes = {
				diplomacy = 3
				intrigue = 4
				stewardship = 5
				martial = 2
				learning = 6
			}
		}
		new_character = {
			set_character_flag = special_chancellor # Allows her to be set as a chancellor even though she's a woman
			set_character_flag = special_spymaster # Allows her to be set as a spy master even though she's a woman
			set_character_flag = special_treasurer # Allows her to be set as a treasurer even though she's a woman
			set_character_flag = special_spiritual # Allows her to be set as a spiritual leader even though she's a woman
			give_minor_title = title_court_wizard
			set_character_flag = dw_boobs_checked
			set_character_flag = dw_npc_sorcey
			if = {  # For Christianity mod compatibility, to prevent a second set of tits getting assigned later
				limit = {
					has_global_flag = christ_enabled
				}
				set_character_flag = nada_checked
			}
		}
		set_global_flag = dw_npc_sorcey_created
	}
	option = { # Welcome Sorcey
		name = DWCourt5012A
	}
}
# .5100 Consulting with Sorcey
narrative_event = {
	id = DWCourt.5100
	desc = "DWCourt5100"
	picture = wizard_sorcey
	title = dw_mage_consult_sorcey
	is_triggered_only = yes # Triggered by targeted decision
	option = { # Restorative food
		name = DWCourt5100A
		narrative_event = { id = DWCourt.5101 }
	}
	option = { # Frog casting
		trigger = {
			piety = 1 # This can take them into the negative, but they have to at least be in the positive in order to pull in energy
		}
		name = DWCourt5100B
		narrative_event = { id = DWCourt.5102 }
	}
	option = { # Never mind
		name = DWCourt5100D
	}
}
# .5101 Consulting with Sorcey - Food options
narrative_event = {
	id = DWCourt.5101
	desc = "DWCourt5101"
	picture = wizard_sorcey_food
	title = dw_mage_consult_sorcey
	is_triggered_only = yes # Triggered by .5100
	option = { # Minor Wound Healing, always available
		name = DWCourt5101A
		piety = -5
		if = {
			limit = {
				trait = wounded
			}
			remove_trait = wounded
		}
		if = {
			limit = {
				trait = scarred
			}
			remove_trait = scarred
		}
	}
	option = { # Food of fortitude
		trigger = {
			piety = 1 # This can take them into the negative, but they have to at least be in the positive in order to pull in energy
		}
		name = DWCourt5101B
		health = +0.1
		piety = -100
	}
	option = { # Honeyed words - increases diplomacy
		trigger = {
			piety = 1 # This can take them into the negative, but they have to at least be in the positive in order to pull in energy
		}
		name = DWCourt5101C
		change_diplomacy = 1
		piety = -250
	}
	option = { # Never mind
		name = DWCourt5101D
	}
}
# .5102 Consulting with Sorcey - Frog Casting
narrative_event = {
	id = DWCourt.5102
	desc = "DWCourt5102"
	picture = wizard_sorcey_frog
	title = dw_mage_consult_sorcey
	is_triggered_only = yes # Triggered by .5100
	option = { # Let's turn someone into a frog
		name = DWCourt5102A
		piety = -1000
		add_character_modifier = {
			name = dw_spell_frog_target
			duration = -1 # Indefinite until cast
		}
	}
	option = { # Never mind
		name = DWCourt5102B
	}
}
# .5250 Hermione event arc
character_event = {
	id = DWCourt.5250
	is_triggered_only = yes # by .5011
	hide_window = yes # nothing to see here
	trigger = {
		# We want to ensure that Hermione is still alive and in the player's court
		event_target:dw_target_hermione = {
			liege = { character = ROOT }
			is_alive = yes
		}
	}
	immediate = {
		# Stuff!
		# Circle event (sets slut or saint flag)
		# random chance for slut or saint events
		random_list = {
			100 = {
				modifier = { # Not an option if either slut or saint flag exists
					factor = 0
					event_target:dw_target_hermione = {
						OR = {
							has_character_flag = dw_hermione_slut
							has_character_flag = dw_hermione_saint
						}
					}
				}
				narrative_event = { id = DWCourt.5251 }
			}
			10 = { # No special event, we just push this event down the road another six months where we check again
				character_event = { id = DWCourt.5250 days = 180 }
			}
			10 = { # Slut Hermione and the Love Potion
				modifier = { # We don't run this if she's not a slut
					factor = 0
					event_target:dw_target_hermione = {
						NOT = { has_character_flag = dw_hermione_slut }
					}
				}
				narrative_event = { id = DWCourt.5260 }
			}
		}
	}
}
# .5251 Hermione Event Arc Start - the failed circle magic
narrative_event = {
	id = DWCourt.5251
	picture = wizard_hermione_event1
	desc = DWCourt5251
	title = dw_hermione_event_start
	is_triggered_only = yes # by .5250
	option = { # Help Hermione
		name = DWCourt5251A
		event_target:dw_target_hermione = {
			set_character_flag = dw_hermione_saint
		}
		narrative_event = { id = DWCourt.5252 days = 1 }
	}
	option = { # Don't Help Hermione
		name = DWCourt5251B
		event_target:dw_target_hermione = {
			set_character_flag = dw_hermione_slut
		}
		narrative_event = { id = DWCourt.5253 days = 1 }
	}
}
# .5252 Hermione Event Arc Start - Saved Hermione
narrative_event = {
	id = DWCourt.5252
	picture = wizard_hermione_event2
	desc = {
		trigger = { # Hermione is not presently the player's lover
			event_target:dw_target_hermione = {
				NOT = {
					is_lover = ROOT
				}
			}
		}
		text = DWCourt5252.0
	}
	desc = {
		trigger = { # Hermione is the player's lover
			event_target:dw_target_hermione = {
				is_lover = ROOT
			}
		}
		text = DWCourt5252.1
	}
	title = dw_hermione_event_start
	is_triggered_only = yes # by .5251
	option = { # Accept Hermione's offering of love
		trigger = {
			event_target:dw_target_hermione = {
				NOT = {
					is_lover = ROOT
				}
			}
		}
		name = DWCourt5252A
		event_target:dw_target_hermione = {
			add_lover = ROOT
		}
		add_lover = event_target:dw_target_hermione
		hidden_tooltip = { # We cycle back around for another random event
			character_event = { id = DWCourt.5250 days = 360 }
		}
	}
	option = { # Reject Hermione's offering of love
		trigger = {
			event_target:dw_target_hermione = {
				NOT = {
					is_lover = ROOT
				}
			}
		}
		name = DWCourt5252B
		hidden_tooltip = { # We cycle back around for another random event
			character_event = { id = DWCourt.5250 days = 360 }
		}
	}
	option = { # Glad that Hermione, my love, is alright
		trigger = { # Hermione is the player's lover
			event_target:dw_target_hermione = {
				is_lover = ROOT
			}
		}
		name = DWCourt5252C
		hidden_tooltip = { # We cycle back around for another random event
			character_event = { id = DWCourt.5250 days = 360 }
		}
	}
}
# .5253 Hermione Event Arc Start - Hermione Lost
narrative_event = {
	id = DWCourt.5253
	picture = wizard_hermione_masturbate1
	desc = {
		trigger = { # Hermione is not presently the player's lover
			event_target:dw_target_hermione = {
				NOT = {
					is_lover = ROOT
				}
			}
		}
		text = DWCourt5253.0
	}
	desc = {
		trigger = { # Hermione is the player's lover
			event_target:dw_target_hermione = {
				is_lover = ROOT
			}
		}
		text = DWCourt5253.1
	}
	title = dw_hermione_event_start
	is_triggered_only = yes # by .5251
	option = { # Poor thing is broken
		trigger = { # Hermione is not presently the player's lover
			event_target:dw_target_hermione = {
				NOT = {
					is_lover = ROOT
				}
			}
		}
		name = DWCourt5253A
		hidden_tooltip = { # We cycle back around for another random event
			narrative_event = { id = DWCourt.5254 days = 7 }
		}
		event_target:dw_target_hermione = {
			add_trait = lustful
		}
	}
	option = { # I've broken my love, yet gained a slut
		trigger = { # Hermione is the player's lover
			event_target:dw_target_hermione = {
				is_lover = ROOT
			}
		}
		name = DWCourt5253B
		hidden_tooltip = { # We cycle back around for another random event
			narrative_event = { id = DWCourt.5254 days = 7 }
		}
		event_target:dw_target_hermione = {
			add_trait = lustful
		}
	}
}
# .5254 Hermione Event Arc Start - Hermione Lost 2
narrative_event = {
	id = DWCourt.5254
	picture = wizard_hermione_event3
	desc = {
		trigger = { # Hermione is not presently the player's lover
			event_target:dw_target_hermione = {
				NOT = {
					is_lover = ROOT
				}
			}
		}
		text = DWCourt5254.0
	}
	desc = {
		trigger = { # Hermione is the player's lover
			event_target:dw_target_hermione = {
				is_lover = ROOT
			}
		}
		text = DWCourt5254.1
	}
	title = dw_hermione_event_start
	is_triggered_only = yes # by .5251
	option = { # Scratch that itch
		name = DWCourt5254A
		event_target:dw_target_hermione = {
			add_trait = lunatic
		}
		hidden_tooltip = { # We cycle back around for another random event
			character_event = { id = DWCourt.5250 days = 360 }
			if = {
				limit = { # If it's a guy
					is_female = no
				}
				narrative_event = { id = DWCourt.5255 } # Anal pounding
			}
			if = {
				limit = { # Is a futa
					trait = futa
				}
				narrative_event = { id = DWCourt.5256 } # Futa pounding
			}
			if = {
				limit = { # Is a non-futa female
					is_female = yes
					NOT = { trait = futa }
				}
				narrative_event = { id = DWCourt.5257 } # Lesbian munch
			}
		}
	}
	option = { # Not tonight
		name = DWCourt5254B
		hidden_tooltip = { # We cycle back around for another random event
			character_event = { id = DWCourt.5250 days = 360 }
		}
		event_target:dw_target_hermione = {
			add_trait = lunatic
		}
	}
}
# .5255 Hermione Event Arc Start - Hermione Anal pounding
narrative_event = {
	id = DWCourt.5255
	picture = wizard_hermione_anal1
	desc = DWCourt5255
	title = dw_hermione_event_start
	is_triggered_only = yes # by .5254
	option = { # Fucking crazy bitch
		name = DWCourt5255A
		event_target:dw_target_hermione = {
			add_character_modifier = { name = dw_still_wanting_more days = 30 }
		}
		add_character_modifier = { name = dw_good_sex days = 30 }
	}
}
# .5256 Hermione Event Arc Start - Hermione Futa fucked
narrative_event = {
	id = DWCourt.5256
	picture = wizard_hermione_futa1
	desc = DWCourt5256
	title = dw_hermione_event_start
	is_triggered_only = yes # by .5254
	option = { # Fucking crazy bitch
		name = DWCourt5256A
		event_target:dw_target_hermione = {
			add_character_modifier = { name = dw_still_wanting_more days = 30 }
		}
		add_character_modifier = { name = dw_good_sex days = 30 }
	}
}
# .5257 Hermione Event Arc Start - Hermione Lesbian munch
narrative_event = {
	id = DWCourt.5257
	picture = wizard_hermione_lesbian1
	desc = DWCourt5257
	title = dw_hermione_event_start
	is_triggered_only = yes # by .5254
	option = { # Fucking crazy bitch
		name = DWCourt5257A
		add_character_modifier = { name = dw_good_sex days = 30 }
	}
}
# .5260 Hermione Love Potion Event
narrative_event = {
	id = DWCourt.5260
	picture = wizard_hermione_lesbian2
	desc = DWCourt5260
	title = dw_hermione_love_potion_title
	is_triggered_only = yes # by .5250
	option = { # Thank you Hermione for the potion
		name = DWCourt5260A
		hidden_tooltip = { # We cycle back around for another random event
			character_event = { id = DWCourt.5250 days = 360 }
		}
		set_character_flag = dw_has_hermione_love_potion
	}
	option = { # You can keep and use it.
		name = DWCourt5260B
		hidden_tooltip = { # We cycle back around for another random event
			character_event = { id = DWCourt.5250 days = 360 }
			# Create a random female character with Hermione as its lover
			random_list = {
				75 = { # Random female
					character_event = { id = DWCourt.5265 }
				}
				50 = { # Ginny joins
					modifier = {
						factor = 0
						has_global_flag = dw_npc_ginny_created
					}
					narrative_event = { id = DWCourt.5266 }
				}
				50 = { # Luna joins
					modifier = {
						factor = 0
						has_global_flag = dw_npc_luna_created
					}
					narrative_event = { id = DWCourt.5267 }
				}
			}
		}
		custom_tooltip = { text = dw_add_random_npc_notice }
	}
}
# .5261 Hermione Love Potion
narrative_event = {
	id = DWCourt.5261
	picture = spell_love_potion
	desc = {
		trigger = { # Total success
			attribute_diff = {
				character = event_target:dw_love_potion_target
				attribute = intrigue
				value = 10
			}
		}
		text = DWCourt5261.0
	}
	desc = {
		trigger = { # Favorable
			attribute_diff = {
				character = event_target:dw_love_potion_target
				attribute = intrigue
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_love_potion_target
					attribute = intrigue
					value = 10
				}
			}
		}
		text = DWCourt5261.1
	}
	desc = {
		trigger = { # Difficult
			NOT = {
				attribute_diff = {
					character = event_target:dw_love_potion_target
					attribute = intrigue
					value = 5
				}
			}
		}
		text = DWCourt5261.2
	}
	title = dw_hermione_event_start
	is_triggered_only = yes # by targetted decision
	immediate = {
		FROM = {
			save_event_target_as = dw_love_potion_target
		}
	}
	option = { # Total Success
		trigger = { # Total success
			attribute_diff = {
				character = event_target:dw_love_potion_target
				attribute = intrigue
				value = 10
			}
		}
		name = DWCourt5261A
		event_target:dw_love_potion_target = {
			add_lover = ROOT
		}
		add_lover = event_target:dw_love_potion_target
		hidden_tooltip = {
			event_target:dw_love_potion_target = {
				remove_trait = chaste
				remove_trait = celibate
				add_trait = lustful
			}
		}
	}
	option = { # Favorable
		trigger = { # Favorable
			attribute_diff = {
				character = event_target:dw_love_potion_target
				attribute = intrigue
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_love_potion_target
					attribute = intrigue
					value = 10
				}
			}
		}
		name = DWCourt5261B
		random_list = {
			75 = {
				event_target:dw_love_potion_target = {
					add_lover = ROOT
				}
				add_lover = event_target:dw_love_potion_target
				hidden_tooltip = {
					event_target:dw_love_potion_target = {
						remove_trait = chaste
						remove_trait = celibate
						add_trait = lustful
					}
				}
			}
			25 = {
				event_target:dw_love_potion_target = {
					opinion = {
						modifier = dw_rejected_forced_love
						who = ROOT
					}
				}
			}
		}
	}
	option = { # Difficult
		trigger = { # Difficult
			NOT = {
				attribute_diff = {
					character = event_target:dw_love_potion_target
					attribute = intrigue
					value = 5
				}
			}
		}
		name = DWCourt5261C
		random_list = {
			50 = {
				event_target:dw_love_potion_target = {
					add_lover = ROOT
				}
				add_lover = event_target:dw_love_potion_target
				hidden_tooltip = {
					event_target:dw_love_potion_target = {
						remove_trait = chaste
						remove_trait = celibate
						add_trait = lustful
					}
				}
			}
			50 = {
				event_target:dw_love_potion_target = {
					opinion = {
						modifier = dw_rejected_forced_love
						who = ROOT
					}
				}
			}
		}
	}
}
# .5265 Hermione Love Potion - Random female joins court as Hermione's lover
character_event = {
	id = DWCourt.5265
	hide_window = yes # nothing to see here
	is_triggered_only = yes # by .5260
	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			female = yes
			age = 18
			religion = ROOT
			culture = ROOT
			trait = lustful
			attributes = {
				intrigue = 4
			}
		}
		new_character = {
			character_event = { id = DWCore.20 } # Will randomly assign a breast size
			add_lover = event_target:dw_target_hermione
		}
	}
}
# .5266 Hermione Love Potion - Ginny joins court as Hermione's lover
narrative_event = {
	id = DWCourt.5266
	desc = DWCourt5266
	title = dw_ginny_joins_title
	picture = wizard_ginny
	is_triggered_only = yes # by .5260
	immediate = {
		create_character = {
			random_traits = no
			name = Ginny
			dynasty = none
			female = yes
			age = 16
			religion = ROOT
			culture = ROOT
			race = irish
			dna = aghefaecgca
			health = 5.0
			trait = fair
			trait = regular_tits
			trait = amateurish_plotter
			trait = kind
			trait = shy
			trait = trusting
			trait = erudite
			trait = humble
			trait = mage
			trait = lustful # From the love potion
			trait = portrait17 # Ginny's photo
			attributes = {
				diplomacy = 5
				intrigue = 3
				stewardship = 4
				martial = 3
				learning = 6
			}
		}
		new_character = {
			set_character_flag = dw_boobs_checked
			set_character_flag = dw_npc_ginny
			add_lover = event_target:dw_target_hermione
			if = {  # For Christianity mod compatibility, to prevent a second set of tits getting assigned later
				limit = {
					has_global_flag = christ_enabled
				}
				set_character_flag = nada_checked
			}
		}
		set_global_flag = dw_npc_ginny_created
	}
	option = { # Welcome to my court
		name = DWCourt5266A
	}
}
# .5267 Hermione Love Potion - Luna joins court as Hermione's lover
narrative_event = {
	id = DWCourt.5267
	picture = wizard_luna
	desc = DWCourt5267
	title = dw_luna_joins_title
	is_triggered_only = yes # by .5260
	immediate = {
		create_character = {
			random_traits = no
			name = Luna
			dynasty = none
			female = yes
			age = 16
			religion = ROOT
			culture = ROOT
			race = norse
			dna = aghefaecgca
			health = 6.0
			trait = quick
			trait = small_tits
			trait = underhanded_rogue
			trait = patient
			trait = humble
			trait = honest
			trait = erudite
			trait = lunatic
			trait = mage
			trait = lustful # From the love potion
			trait = portrait18 # Luna's photo
			attributes = {
				diplomacy = 5
				intrigue = 3
				stewardship = 4
				martial = 3
				learning = 6
			}
		}
		new_character = {
			set_character_flag = dw_boobs_checked
			set_character_flag = dw_npc_luna
			add_lover = event_target:dw_target_hermione
			if = {  # For Christianity mod compatibility, to prevent a second set of tits getting assigned later
				limit = {
					has_global_flag = christ_enabled
				}
				set_character_flag = nada_checked
			}
		}
		set_global_flag = dw_npc_luna_created
	}
	option = { # Welcome to my court
		name = DWCourt5267A
	}
}
