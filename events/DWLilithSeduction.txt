### This file contains events specific to the Dark World Children of Lilith mod
## .5000 Kiss of Seduction Events

namespace = DWLilith

# .5000 Default Start of the Succubus Seduction event
narrative_event = {
	id = DWLilith.5000
	desc = DWLilith5000
	picture = succubus_seduction
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered by targetted_decision
	immediate = {
		FROM = {
			save_event_target_as = target_seduced
		}
		save_event_target_as = target_seducer
		set_character_flag = seduction_confirmed
	}
	option = {
		name = DWLilith5000A
		character_event = { id = DWLilith.5010 days = 20 random = 20 }
	}
}
# .5001 Default Start of the Incubus Seduction event
narrative_event = {
	id = DWLilith.5001
	desc = DWLilith5001
	picture = incubus_seduction
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered by targetted_decision
	immediate = {
		FROM = {
			save_event_target_as = target_seduced
		}
		save_event_target_as = target_seducer
		set_character_flag = seduction_confirmed
	}
	option = {
		name = DWLilith5001A
		character_event = { id = DWLilith.5010 days = 20 random = 20 }
	}
}

# .5002 Seduce Decision event start - Incest scandal risk
narrative_event = {
	id = DWLilith.5002
	title = EVTTITLE_WOL_102
	desc = EVTDESC_WOL_102
	picture = GFX_evt_lovers
	
	capable_only = yes
	prisoner = no
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			save_event_target_as = target_seduced
		}
		save_event_target_as = target_seducer
		set_character_flag = seduction_confirmed
	}
	
	option = {
		name = EVTOPTA_WOL_102
		ai_chance = {
			factor = 100
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 }
#		log = "WoL.102: [Root.GetTitledName] begins seduction of [From.GetTitledName]"
	}
	option = {
		name = EVTOPTB_WOL_102
		ai_chance = {
			factor = 0
		}
		hidden_tooltip = {
			remove_opinion = {
				who = FROM
				modifier = opinion_seducing
			}
		}
	}
}

# .5003 Seduce Decision event start - Priest scandal risk
narrative_event = {
	id = DWLilith.5003
	desc = DWLilith5003
	picture = succubus_seduction_priest
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered by targetted_decision
	immediate = {
		FROM = {
			save_event_target_as = target_seduced
		}
		save_event_target_as = target_seducer
		set_character_flag = seduction_confirmed
	}
	option = {
		name = DWLilith5003A
		ai_chance = {
			factor = 75 # 75% chance that the ai sticks to the plan
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20}
	}
	option = {
		name = DWLilith5003B
		ai_chance = {
			factor = 25 # 25% chance that the ai change their mind and back out
		}
		hidden_tooltip = {
			remove_opinion = {
				who = FROM
				modifier = opinion_seducing
			}
		}
	}
}

# .5004 Seduce Decision event start - Homo scandal risk
narrative_event = {
	id = DWLilith.5004
	title = EVTTITLE_WOL_100
	desc = EVTDESC_WOL_104
	picture = GFX_evt_lovers
	
	capable_only = yes
	prisoner = no
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			save_event_target_as = target_seduced
		}
		save_event_target_as = target_seducer
		set_character_flag = seduction_confirmed
	}
	
	option = {
		name = EVTOPTA_WOL_104
		ai_chance = {
			factor = 100
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 }
#		log = "WoL.104: [Root.GetTitledName] begins seduction of [From.GetTitledName]"
	}
	option = {
		name = EVTOPTB_WOL_104
		ai_chance = {
			factor = 0
		}
		hidden_tooltip = {
			remove_opinion = {
				who = FROM
				modifier = opinion_seducing
			}
		}
	}
}

# .5005 Seduce Decision event start - Age scandal risk
narrative_event = {
	id = DWLilith.5005
	desc = DWLilith5005
	title = dw_kiss_of_seduction_title
	picture = GFX_evt_lovers
	capable_only = yes
	prisoner = no
	is_triggered_only = yes
	immediate = {
		FROM = {
			save_event_target_as = target_seduced
		}
		save_event_target_as = target_seducer
		set_character_flag = seduction_confirmed
	}
	option = {
		name = EVTOPTA_WOL_101
		ai_chance = {
			factor = 100
		}
		trigger = {
			NOT = { is_older_than = FROM }
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 }
	}
	option = {
		name = EVTOPTB_WOL_101
		ai_chance = {
			factor = 100
		}
		trigger = {
			is_older_than = FROM
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 }
	}
	option = {
		name = EVTOPTC_WOL_101
		ai_chance = {
			factor = 0
		}
		hidden_tooltip = {
			remove_opinion = {
				who = FROM
				modifier = opinion_seducing
			}
		}
	}
}

# .5010 Hidden event routing
character_event = {
	id = DWLilith.5010
	hide_window = yes # nothing to see here
	is_triggered_only = yes # triggered from events in the .5000 - .5009 block
	immediate = {
		### Here we've a check for potential condition changes that would break the event
		if = {
			limit = {
				OR = {
					prisoner = yes # I have become imprisoned
					trait = incapable # I have become incapable
				}
			}
			narrative_event = { id = DWLilith.5017 } # We notify the need to start again and then clear up flags, opinions and delayed events
			break = yes # Stop execution here
		}
		if = {
			limit = {
				NOT = {  # I have stopped trying to seduce this character
					has_opinion_modifier = {
						who = event_target:target_seduced
						modifier = opinion_seducing
					}
				}
			}
			character_event = { id = DWLilith.5018 } # Clears out flags, opinions, and delayed events
			break = yes # Stop execution here
		}
		if = {
			limit = {
				event_target:target_seduced = {
					OR = {
						is_married = ROOT
						is_consort = ROOT
					}
				}
			}
			narrative_event = { id = DWLilith.5014 } # We ended up getting married or taking our seduction target as a consort
			break = yes
		}
		if = {
			limit = {
				event_target:target_seduced = {
					is_alive = no
				}
			}
			character_event = { id = DWLilith.5011 } # Our target ended up dying on us.
			break = yes
		}
		if = {
			limit = {
				event_target:target_seduced = {
					OR = {
						prisoner = yes
						trait = incapable
					}
				}
			}
			character_event = { id = DWLilith.5012 } # Our target ended up getting imprisoned or incapable
			break = yes
		}
		if = {
			limit = {
				OR = {
					has_regent = yes
					in_command = yes
					event_target:target_seduced = { trait = on_hajj }
					event_target:target_seduced = { trait = in_hiding }
					event_target:target_seduced = { trait = on_pilgrimage }
					event_target:target_seduced = { in_command = yes }
				}
			}
			repeat_event = { id = DWLilith.5010 days = 20 random = 20 } # Fire again with no scope changes
			character_event = { id = DWLilith.5015 } # Prompt to see if it's worth continuing
			break = yes
		}
		# Slow this down versus distant targets
		if = {
			limit = {
				distance = {
					who = event_target:target_seduced
					value = 200
				}
				NOR = { # After reaching Stage 3, which permits the ability to take a form with wings, travel distance becomes a non-issue.
					has_character_modifier = dw_lilith_stage_3
					has_character_modifier = dw_lilith_stage_4
					has_character_modifier = dw_lilith_stage_5
					has_character_modifier = dw_incubus_stage_3
					has_character_modifier = dw_incubus_stage_4
					has_character_modifier = dw_incubus_stage_5
				}
			}
			random_list = {
				100 = {
					modifier = {
						factor = 2.0
						distance = {
							who = event_target:target_seduced
							value = 300
						}
					}
					modifier = {
						factor = 2.0
						distance = {
							who = event_target:target_seduced
							value = 400
						}
					}
					modifier = {
						factor = 2.0
						distance = {
							who = event_target:target_seduced
							value = 500
						}
					}
					repeat_event = { id = DWLilith.5010 days = 20 random = 20 } # Fire again with no scope changes
					
					random = {
						chance = 66
						character_event = { id = DWLilith.5015 } # Time to give up?
					}
					
					break = yes
				}
				100 = {
				}
			}
		}
		if = {
			# The target likes me
			limit = {
				event_target:target_seduced = {
					personal_opinion = {
						who = ROOT
						value = 40
					}
				}
			}
			random_list = {
				100 = {
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_dance }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_chance_meeting }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_picnic }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
						break = yes
					}
					event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
				}
				100 = {
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_chance_meeting }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_picnic }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_dance }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
						break = yes
					}
					event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
				}
				100 = {
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_picnic }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_dance }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_chance_meeting }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
						break = yes
					}
					event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
				}
			}
			break = yes
		}
		if = {
			# The target does not like me much
			limit = {
				event_target:target_seduced = {
					personal_opinion = {
						who = ROOT
						value = 0
					}
				}
			}
			
			random_list = {
				# Seduction attempts
				13 = {
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_dance }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_chance_meeting }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_picnic }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
						break = yes
					}
					event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
				}
				13 = {
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_chance_meeting }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_picnic }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_dance }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
						break = yes
					}
					event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
				}
				13 = {
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_picnic }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_dance }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5300 } } # Dance
						break = yes
					}
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_chance_meeting }
						}
						event_target:target_seduced = { character_event = { id = DWLilith.5350 } } # Chance Meeting
						break = yes
					}
					event_target:target_seduced = { character_event = { id = DWLilith.5400 } } # Picnic
				}
				# Gifts/wooing
				21 = {
					if = {
						limit = {
							NOT = { has_character_flag = wol_seduce_love_letter }
						}
						event_target:target_seduced = { narrative_event = { id = DWLilith.5200 } } # Love letter
						break = yes
					}
					event_target:target_seduced = { narrative_event = { id = DWLilith.5200 } } # Love letter
				}
			}
			
			break = yes
		}
		
		if = {
			# The target dislikes seducer
			limit = {
				event_target:target_seduced = {
					NOT = {
						personal_opinion = {
							who = ROOT
							value = 0
						}
					}
				}
			}
			narrative_event = { id = DWLilith.5030 } # Seducer decides how to get on their good side.
			# TODO Add some more options for how to get on their good side, such as gifts (a dildo for a female) or rumors (about the seducer's prowess in bed)
		}
	}
}

# .5011 My object of seduction has died!
character_event = {
	id = DWLilith.5011
	desc = DWLilith5011
	picture = lilith_graveyard
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered from .5010
	immediate = {
		character_event = { id = DWLilith.5018 }
	}
	option = {
		name = DWLilith5011A
	}
}

# .5012 My object of seduction has been imprisoned or incapable!
character_event = {
	id = DWLilith.5012
	desc = DWLilith5012
	picture = lilith_prison
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered from .5010
	immediate = {
		character_event = { id = DWLilith.5018 }
	}
	option = {
		name = DWLilith5012A
	}
}

# .5014 object of seduction has become my spouse or concubine
narrative_event = {
	id = DWLilith.5014
	desc = DWLilith5014
	picture = lilith_wedding
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered by .5010
	immediate = {
		character_event = { id = DWLilith.5018 }
	}
	option = {
		name = DWLilith5014A
	}
}

# .5015 This is taking too long. Give up?
character_event = {
	id = DWLilith.5015
	desc = DWLilith5015
	picture = lilith_wedding
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered by .5010
	option = {
		name = DWLilith5015A # Keep trying
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				event_target:target_seduced = { has_character_modifier = lustful_affair_timer }
			}
		}
	}
	option = {
		name = DWLilith5015B # Give up
		ai_chance = {
			factor = 25
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 } # Clears flags, etc.
		}
	}
}

# .5017 I am unable to continue due to being a prisoner or incapable
narrative_event = {
	id = DWLilith.5017
	desc = DWLilith5017
	picture = lilith_prison
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # triggered from .5010
	immediate = {
		character_event = { id = DWLilith.5018 }
	}
	option = {
		name = DWLilith5017A
	}
}
# .5018 Clearing of flags, opinions and delayed events
character_event = {
	id = DWLilith.5018
	hide_window = yes
	is_triggered_only = yes  # triggered from .5010/.5017
	immediate = {
		remove_opinion = {
			who = event_target:target_seduced
			modifier = opinion_seducing
		}
		clear_delayed_event = { id = DWLilith.5010 }
		clr_character_flag = wol_seduce_love_letter
		clr_character_flag = wol_seduce_gift
		clr_character_flag = wol_seduce_gossip
		clr_character_flag = wol_seduce_dance
		clr_character_flag = wol_seduce_chance_meeting
		clr_character_flag = wol_seduce_picnic
		clr_character_flag = seduction_confirmed
	}
}
# .5020 Seduction target rejects the advance
narrative_event = {
	id = DWLilith.5020
	desc = DWLilith5020
	picture = lilith_nope
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # Triggered by multiple events, when an advance is rejected
	trigger = {
		event_target:target_seduced = { has_character_modifier = dismissed_proposal }
	}
	option = { # Let it go
		name = DWLilith5020A
		tooltip = {
			event_target:target_seduced = {
				add_character_modifier = { name = dismissed_proposal years = 10 }
				opinion = {
					who = ROOT
					modifier = opinion_seduced_refused
				}
			}
		}
		character_event = { id = DWLilith.5018 } # Clear flags
	}
}
# .5030 Decision on how to proceed with trying to woo an uninterested target
narrative_event = {
	id = DWLilith.5030
	desc = DWLilith5030
	picture = lilith_romance_generic
	title = dw_kiss_of_seduction_title
	is_triggered_only = yes # Triggered by .5010
	option = { # Love Letter
		name = DWLilith5030A
		event_target:target_seduced = {
			narrative_event = { id = DWLilith.5200 }
		}
	}
}

# .5200 Potential Opinion booster - Love Letter 
narrative_event = {
	id = DWLilith.5200
	title = dw_kiss_of_seduction_title
	picture = lilith_love_letter
	desc = DWLilith5200
	is_triggered_only = yes # by .5010
	immediate = {
		FROM = { set_character_flag = wol_seduce_love_letter }
	}
	option = {
		name = DWLilith5200A # How romantic!
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0 # If the target's zeal isn't open minded enough to accept a relationship with a close relative, we zero out the chance, just to avoid headaches.
				is_close_relative = FROM
				ai_zeal = -49
			}
			modifier = {
				factor = 0.25
				trait = chaste
			}
			modifier = {
				factor = 0.50
				OR = {
					FROM = { trait = ugly }
					FROM = { trait = leper }
					FROM = { trait = imbecile }
					FROM = { trait = inbred }
					FROM = { trait = harelip }
					FROM = { trait = hunchback }
					FROM = { trait = dwarf }
				}
			}
			modifier = {
				factor = 1.50
				OR = {
					trait = ugly
					trait = leper
					trait = imbecile
					trait = inbred
					trait = harelip
					trait = hunchback
					trait = dwarf
				}
			}
			modifier = {
				factor = 0.75
				trait = cynical
			}
			modifier = {
				factor = 0.75
				trait = paranoid
			}
			modifier = {
				factor = 1.25
				trait = arbitrary
			}
			modifier = {
				factor = 1.25
				trait = trusting
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 2.25
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 5.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 2.0
				trait = hedonist
			}
			modifier = {
				factor = 3.0
				trait = lustful
			}
		}
		if = {
			limit = {
				NOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_seduced_repelled
					}
				}
			}
			opinion = {
				who = FROM
				modifier = opinion_seduced_attracted
			}
		}
		if = {
			limit = {
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_repelled
				}
			}
			remove_opinion = {
				who = FROM
				modifier = opinion_seduced_repelled
			}
		}
		FROM = { narrative_event = { id = DWLilith.5201 } }
	}
	option = {
		name = DWLilith5200B # I don't have time for this foolishness
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2.0
				trait = cruel
			}
		}
		FROM = { narrative_event = { id = DWLilith.5202 } }
	}
	option = {
		name = DWLilith5200C # I am offended
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2.0
				trait = cruel
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = cynical
					trait = paranoid
				}
				OR = {
					trait = ugly
					trait = leper
					trait = dwarf
					trait = harelip
					trait = hunchback
				}
				FROM = {
					NOT = {
						OR = {
							trait = ugly
							trait = leper
							trait = dwarf
							trait = harelip
							trait = hunchback
							trait = inbred
							trait = imbecile
						}
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_seduced_attracted
					}
				}
			}
			opinion = {
				who = FROM
				modifier = opinion_seduced_repelled
			}
		}
		if = {
			limit = {
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
			remove_opinion = {
				who = FROM
				modifier = opinion_seduced_attracted
			}
		}
		FROM = { narrative_event = { id = DWLilith.5203 } }
	}
	option = {
		name = DWLilith5200G # Seduction Rejected
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2.0
				trait = stubborn
			}
			modifier = {
				factor = 0.2
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					NOT = { num_of_dynasty_members = 2 }
					AND = {
						lower_tier_than = FROM
						father = { lower_tier_than = FROM }
						mother = { lower_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					AND = {
						higher_tier_than = FROM
						father = { higher_tier_than = FROM }
						mother = { higher_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				NOR = {
					trait = lustful 
					trait = deceitful
					trait = arbitrary
					trait = hedonist
					trait = seductress
					trait = seducer
				}
			}
			modifier = {
				factor = 2.0
				trait = chaste
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 25
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 50
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 75
					}
				}
			}
		}
		opinion = { who = FROM modifier = opinion_seduced_refused }
		add_character_modifier = { name = dismissed_proposal duration = 3650 }
		FROM = { narrative_event = { id = DWLilith.5020 } }
	}
}

# .5201 Opinion booster - Love Letter - Positive response
narrative_event = {
	id = DWLilith.5201
	title = dw_kiss_of_seduction_title
	desc = DWLilith5201
	picture = lilith_love_letter
	is_triggered_only = yes # by .5200
	option = {
		name = DWLilith5201A # Great!
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the seduction cycle
			}
			break = yes
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 } # Back to the seduction cycle
	}
	option = {
		name = DWLilith5201B # I have tired of this sport
		ai_chance = {
			factor = 1
		}
		
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}
# .5202 Opinion booster - Love Letter - No response
narrative_event = {
	id = DWLilith.5202
	title = dw_kiss_of_seduction_title
	desc = EVTDESC_WOL_202
	desc = DWLilith5202
	picture = lilith_love_letter
	is_triggered_only = yes # by .5200
	option = {
		name = DWLilith5202A # Disappointing!
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 }
			}
			break = yes
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 }
	}
	option = {
		name = DWLilith5202B # I have tired of this sport
		ai_chance = {
			factor = 1
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}
# .5203 Opinion booster - Love Letter - Negative response
narrative_event = {
	id = DWLilith.5203
	title = dw_kiss_of_seduction_title
	desc = DWLilith5203
	picture = lilith_love_letter
	is_triggered_only = yes # by .5200
	option = {
		name = DWLilith5203A # Disappointing!
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 }
			}
			break = yes
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 }
	}
	option = {
		name = DWLilith5203B # I have tired of this sport
		ai_chance = {
			factor = 1
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}






# .5040 Lover's disease notification
character_event = {
	id = DWLilith.5040
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_character_modifier = minor_disease_herpes
		}
	}
	
	desc = {
		text = EVTDESC_WOL_40
		trigger = {
			religion_group = christian
		}
	}
	desc = {
		text = EVTDESC_WOL_40_NC
		trigger = {
			NOT = { religion_group = christian }
		}
	}
	
	option = {
		name = CURSES
		add_character_modifier = {
			modifier = minor_disease_herpes
			duration = -1
		}
	}
}

# .5050 Target: Scandal check after Tumble
character_event = {
	id = DWLilith.5050
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_courtier = {
			limit = {
				prisoner = no
				has_regent = no
				in_command = no
				is_adult = yes
				NOT = { character = FROM }
				NOT = { character = ROOT }
				OR = {
					is_close_relative = ROOT
					is_close_relative = FROM
					is_liege_of = ROOT
					is_rival = FROM
					is_rival = ROOT
					is_lover = FROM
					is_lover = ROOT
					any_spouse = {
						OR = {
							character = FROM
							character = ROOT
						}
					}
					any_consort = {
						OR = {
							character = FROM
							character = ROOT
						}
					}
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_chasing_friend
					}
				}
				OR = {
					AND = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 0
						}
						attribute_diff = {
							attribute = intrigue
							character = FROM
							value = 0
						}
					}
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_chasing_friend
					}
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_chasing_child
					}
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_chasing_spouse
					}
				}
			}
			if = {
				limit = {
					OR = {
						AND = {
							attribute_diff = {
								attribute = intrigue
								character = ROOT
								value = 3
							}
							attribute_diff = {
								attribute = intrigue
								character = FROM
								value = 3
							}
						}
						has_opinion_modifier = {
							who = FROM
							modifier = opinion_chasing_friend
						}
						has_opinion_modifier = {
							who = FROM
							modifier = opinion_chasing_child
						}
						has_opinion_modifier = {
							who = FROM
							modifier = opinion_chasing_spouse
						}
					}
				}
				random = {
					chance = 50
					character_event = { id = DWLilith.5055 days = 4 random = 7 }
				}
				break = yes
			}
			random = {
				chance = 25
				character_event = { id = DWLilith.5055 days = 4 random = 7 }
			}
		}
	}
}

# .5055 Courtier discovers the affair
character_event = {
	id = DWLilith.5055
	title = EVTTITLE_WOL_55
	
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		
		FROMFROM = {
			save_event_target_as = target_lover_1
		}
		
		if = {
			limit = {
				OR = {
					any_spouse = {
						character = FROM
					}
					any_consort = {
						character = FROM
					}
				}
			}
			if = {
				limit = { is_female = no }
				opinion = {
					who = FROM
					modifier = opinion_unfaithful_wife
				}
				if = {
					limit = { FROMFROM = { is_female = no } }
					opinion = {
						who = FROMFROM
						modifier = opinion_cuckolded
					}
				}
			}
			if = {
				limit = { is_female = yes }
				opinion = {
					who = FROM
					modifier = opinion_unfaithful_husband
				}
				if = {
					limit = { FROMFROM = { is_female = yes } }
					add_rival = FROMFROM
					opinion = {
						who = FROMFROM
						modifier = slut_seductress
					}
				}
			}
		}
		
		if = {
			limit = {
				OR = {
					any_spouse = {
						character = FROMFROM
					}
					any_consort = {
						character = FROMFROM
					}
				}
			}
			if = {
				limit = { is_female = no }
				opinion = {
					who = FROMFROM
					modifier = opinion_unfaithful_wife
				}
				if = {
					limit = { FROM = { is_female = no } }
					opinion = {
						who = FROM
						modifier = opinion_cuckolded
					}
				}
			}
			if = {
				limit = { is_female = yes }
				opinion = {
					who = FROMFROM
					modifier = opinion_unfaithful_husband
				}
				if = {
					limit = { FROM = { is_female = yes } }
					add_rival = FROM
					opinion = {
						who = FROM
						modifier = slut_seductress
					}
				}
			}
		}
		
		if = {
			limit = {
				FROM = {
					is_close_relative = event_target:target_lover_1
					NOT = { religion = messalian }
					NOT = { religion = zoroastrian }
				}
			}
			set_character_flag = scandal_temp_incest
			break = yes
		}
		if = {
			limit = {
				FROM = {
					is_female = no
					same_sex = event_target:target_lover_1 
				}
			}
			set_character_flag = scandal_temp_m_homo
			break = yes
		}
		if = {
			limit = {
				FROM = {
					is_female = yes
					same_sex = event_target:target_lover_1 
				}
			}
			set_character_flag = scandal_temp_f_homo
			break = yes
		}
		if = {
			limit = {
				FROM = {
					religion_group = christian
					OR = {
						is_priest = yes
						trait = monk
						trait = nun
					}
				}
			}
			set_character_flag = scandal_temp_priest
			break = yes
		}
		if = {
			limit = {
				FROM = {
					age_diff = {
						who = event_target:target_lover_1
						years = 25
					}
				}
			}
			set_character_flag = scandal_temp_age
			break = yes
		}
		if = {
			limit = {
				FROM = {
					is_female = yes
					OR = {
						is_married = yes
						is_consort = yes
					}
				}
			}
			set_character_flag = scandal_temp_f_married
			break = yes
		}
		if = {
			limit = {
				FROMFROM = {
					is_female = yes
					OR = {
						is_married = yes
						is_consort = yes
					}
				}
			}
			set_character_flag = scandal_temp_ff_married
			break = yes
		}
		
		set_character_flag = scandal_temp_adultery
	}
	
	desc = {
		text = EVTDESC_WOL_55_CR
		trigger = { has_character_flag = scandal_temp_incest }
	}
	desc = {
		text = EVTDESC_WOL_55_M_HOMO
		trigger = { has_character_flag = scandal_temp_m_homo }
	}
	desc = {
		text = EVTDESC_WOL_55_F_HOMO
		trigger = { has_character_flag = scandal_temp_f_homo }
	}
	desc = {
		text = EVTDESC_WOL_55_PRIEST
		trigger = { has_character_flag = scandal_temp_priest }
	}
	desc = {
		text = EVTDESC_WOL_55_AGE_YOUNG
		trigger = {
			has_character_flag = scandal_temp_age 
			FROM = { NOT = { is_older_than = FROMFROM } }
		}
	}
	desc = {
		text = EVTDESC_WOL_55_AGE_OLD
		trigger = {
			has_character_flag = scandal_temp_age 
			FROM = { is_older_than = FROMFROM }
		}
	}
	desc = {
		text = EVTDESC_WOL_55_F_MARRIED
		trigger = {
			has_character_flag = scandal_temp_f_married
		}
	}
	desc = {
		text = EVTDESC_WOL_55_FF_MARRIED
		trigger = {
			has_character_flag = scandal_temp_ff_married
			NOT = { has_character_flag = scandal_temp_f_married }
		}
	}
	desc = {
		text = EVTDESC_WOL_55
		trigger = { has_character_flag = scandal_temp_adultery }
	}
	
	option = {
		name = EVTOPTA_WOL_55 # Expose them!
		trigger = {
			NOT = {
				OR = {
					has_character_flag = scandal_temp_incest
					has_character_flag = scandal_temp_m_homo
					has_character_flag = scandal_temp_f_homo
					has_character_flag = scandal_temp_priest
				}
			}
		}
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_lover = FROM
			}
			remove_lover = FROM
		}
		if = {
			limit = {
				is_lover = FROMFROM
			}
			remove_lover = FROMFROM
		}
		
		FROMFROM = { character_event = { id = DWLilith.5060 tooltip = EVTTOOLTIP_WoL_60 } }
		
		clr_character_flag = scandal_temp_age
		clr_character_flag = scandal_temp_f_married
		clr_character_flag = scandal_temp_ff_married
		clr_character_flag = scandal_temp_adultery
	}
	
	option = {
		name = EVTOPTA_WOL_55_UNHOLY # Expose the unholy sinners!
		trigger = {
			OR = {
				has_character_flag = scandal_temp_incest
				has_character_flag = scandal_temp_m_homo
				has_character_flag = scandal_temp_f_homo
				has_character_flag = scandal_temp_priest
			}
		}
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_lover = FROM
			}
			remove_lover = FROM
		}
		if = {
			limit = {
				is_lover = FROMFROM
			}
			remove_lover = FROMFROM
		}
		
		FROMFROM = { character_event = { id = DWLilith.5060 tooltip = EVTTOOLTIP_WoL_60 } }
		
		clr_character_flag = scandal_temp_incest
		clr_character_flag = scandal_temp_m_homo
		clr_character_flag = scandal_temp_f_homo
		clr_character_flag = scandal_temp_priest
	}
	
	option = {
		name = EVTOPTB_WOL_55 # let it pass
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					is_rival = FROM
					is_rival = FROMFROM
				}
			}
			modifier = {
				factor = 0
				OR = {
					is_consort = FROM
					is_consort = FROMFROM
					any_spouse = {
						OR = {
							character = FROM
							character = FROMFROM
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				trait = cruel
			}
			modifier = {
				factor = 0.1
				trait = zealous
			}
			modifier = {
				factor = 1.5
				trait = charitable
			}
			modifier = {
				factor = 3.0
				trait = kind
			}
		}
		
		if = {
			limit = {
				is_lover = FROM
			}
			remove_lover = FROM
		}
		if = {
			limit = {
				is_lover = FROMFROM
			}
			remove_lover = FROMFROM
		}
		
		clr_character_flag = scandal_temp_incest
		clr_character_flag = scandal_temp_m_homo
		clr_character_flag = scandal_temp_f_homo
		clr_character_flag = scandal_temp_priest
		clr_character_flag = scandal_temp_age
		clr_character_flag = scandal_temp_f_married
		clr_character_flag = scandal_temp_ff_married
		clr_character_flag = scandal_temp_adultery
	}
	
	option = {
		name = EVTOPTC_WOL_55 # Blackmail the seducer
		trigger = {
			NOT = { is_father = FROM }
			NOT = { is_mother = FROM }
			NOT = { is_consort = FROM }
			NOT = { is_consort = FROMFROM }
			NOT = {
				any_spouse = {
					OR = {
						character = FROM
						character = FROMFROM
					}
				}
			}
			OR = {
				FROMFROM = { is_female = yes }
				FROMFROM = { is_married = yes }
				has_character_flag = scandal_temp_incest
				has_character_flag = scandal_temp_m_homo
				has_character_flag = scandal_temp_priest
				has_character_flag = scandal_temp_f_married
			}
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10.0
				trait = greedy
			}
			modifier = {
				factor = 0.1
				trait = zealous
			}
		}
		
		if = {
			limit = {
				is_lover = FROM
			}
			remove_lover = FROM
		}
		if = {
			limit = {
				is_lover = FROMFROM
			}
			remove_lover = FROMFROM
		}
		
		FROMFROM = { letter_event = { id = DWLilith.5056 days = 3 tooltip = EVTTOOLTIP_WoL_56 } }
	}
}

# The seducer is blackmailed
letter_event = {
	id = DWLilith.5056
	desc = {
		text = EVTDESC_WOL_56
		trigger = {
			FROM = {
				NOT = {
					OR = {
						has_character_flag = scandal_temp_incest
						has_character_flag = scandal_temp_m_homo
						has_character_flag = scandal_temp_f_homo
					}
				}
			}
		}
	}
	desc = {
		text = EVTDESC_WOL_56_CR
		trigger = { FROM = { has_character_flag = scandal_temp_incest } }
	}
	desc = {
		text = EVTDESC_WOL_56_HOMO
		trigger = {
			FROM = {
				OR = {
					has_character_flag = scandal_temp_m_homo
					has_character_flag = scandal_temp_f_homo
				}
			}
		}
	}
	
	border = GFX_event_letter_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_56 # Pay
		ai_chance = {
			factor = 100
		}
		transfer_scaled_wealth = {
			to = FROM
			value = 0.2
		}
		FROM = { letter_event = { id = DWLilith.5057 days = 3 tooltip = EVTTOOLTIP_WoL_57 } }
	}
	option = {
		name = EVTOPTB_WOL_56 # Refuse!
		ai_chance = {
			factor = 10
		}
		hidden_tooltip = {
			FROMFROM = { character_event = { id = DWLilith.5058 days = 3 } }
		}
	}
}

# Blackmailer: The seducer pays
letter_event = {
	id = DWLilith.5057
	desc = EVTDESC_WOL_57
	
	border = GFX_event_letter_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = scandal_temp_incest
		clr_character_flag = scandal_temp_m_homo
		clr_character_flag = scandal_temp_f_homo
		clr_character_flag = scandal_temp_priest
		clr_character_flag = scandal_temp_age
		clr_character_flag = scandal_temp_f_married
		clr_character_flag = scandal_temp_ff_married
		clr_character_flag = scandal_temp_adultery
	}
	
	option = {
		name = EVTOPTA_WOL_57
	}
}

# Blackmailer: The seducer refuses to pay. Ping by the target first.
character_event = {
	id = DWLilith.5058
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROM = { letter_event = { id = DWLilith.5059 } }
	}
}

# Blackmailer: The seducer refuses to pay
letter_event = {
	id = DWLilith.5059
	desc = EVTDESC_WOL_59
	
	border = GFX_event_letter_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_59 # Expose them!
		ai_chance = {
			factor = 100
		}
		
		FROMFROM = { character_event = { id = DWLilith.5060 tooltip = EVTTOOLTIP_WoL_60 } }
		
		clr_character_flag = scandal_temp_incest
		clr_character_flag = scandal_temp_m_homo
		clr_character_flag = scandal_temp_f_homo
		clr_character_flag = scandal_temp_priest
		clr_character_flag = scandal_temp_age
		clr_character_flag = scandal_temp_f_married
		clr_character_flag = scandal_temp_ff_married
		clr_character_flag = scandal_temp_adultery
	}
	
	option = {
		name = EVTOPTB_WOL_59 # Keep quiet anyway
		ai_chance = {
			factor = 10
		}
		
		clr_character_flag = scandal_temp_incest
		clr_character_flag = scandal_temp_m_homo
		clr_character_flag = scandal_temp_f_homo
		clr_character_flag = scandal_temp_priest
		clr_character_flag = scandal_temp_age
		clr_character_flag = scandal_temp_f_married
		clr_character_flag = scandal_temp_ff_married
		clr_character_flag = scandal_temp_adultery
	}
}

# Seducer: the scandal breaks!
character_event = {
	id = DWLilith.5060
	title = EVTTITLE_WOL_60
	desc = EVTDESC_WOL_60
	
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		save_event_target_as = target_adulterer
		FROMFROM = {
			character_event = { id = 20 } # Adultery fallout
			character_event = { id = DWLilith.5061 } # Notification to my lover
		}
		
		any_spouse = {
			limit = {
				NOT = { character = FROMFROM }
				NOT = { character = FROM }
			}
			character_event = { id = DWLilith.5062 }
		}
	}
	
	option = {
		name = {
			text = EVTOPTA_WOL_60_F
			trigger = {
				FROMFROM = { is_female = yes }
			}
		}
		name = {
			text = EVTOPTA_WOL_60_M
			trigger = {
				FROMFROM = { is_female = no }
			}
		}
		
		if = {
			limit = {
				same_sex = FROMFROM
			}
			if = {
				limit = { is_female = no }
				tooltip = {
					add_character_modifier = {
						name = known_sodomite
						years = 20
					}
				}
				prestige = -500
				piety = -250
			}
			if = {
				limit = { is_female = yes }
				prestige = -100
				piety = -50
			}
		}
		
		if = {
			limit = {
				age_diff = {
					who = FROMFROM
					years = 25
				}
				is_older_than = FROMFROM
			}
			tooltip = {
				add_character_modifier = {
					name = cradle_robber
					years = 5
				}
			}
		}
		
		if = {
			limit = {
				religion_group = christian
				OR = {
					AND = {
						is_ruler = yes
						is_theocracy = yes
					}
					trait = monk
					trait = nun
				}
			}
			tooltip = {
				add_character_modifier = {
					name = adulterous_priest
					years = 20
				}
			}
			piety = -100
		}
		
		if = {
			limit = {
				is_close_relative = FROMFROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
			}
			if = {
				limit = {
					is_female = yes
				}
				tooltip = {
					add_character_modifier = {
						name = incestuous_adulteress
						years = 20
					}
				}
			}
			if = {
				limit = {
					is_female = no
				}
				tooltip = {
					add_character_modifier = {
						name = incestuous_adulterer
						years = 20
					}
				}
			}
			
			piety = -100
			prestige = -50
			
			break = yes
		}
		
		if = {
			limit = {
				is_female = no
				is_married = yes
				NOT = { religion_group = pagan_group }
			}
			tooltip = {
				add_character_modifier = {
					name = adulterer
					years = 20
				}
			}
		}
		
		if = {
			limit = {
				is_female = yes
			}
			tooltip = {
				add_character_modifier = {
					name = adulteress
					years = 20
				}
			}
			if = {
				limit = { is_married = no }
				piety = -50
			}
			if = {
				limit = { is_married = yes }
				piety = -100
			}
		}
		
		if = {
			limit = {
				is_female = no
				NOT = { same_sex = FROMFROM }
				FROMFROM = { is_playable = yes }
			}
			if = {
				limit = { FROMFROM = { tier = COUNT } }
				prestige = 25
			}
			if = {
				limit = { FROMFROM = { tier = DUKE } }
				prestige = 50
			}
			if = {
				limit = { FROMFROM = { tier = KING } }
				prestige = 100
			}
			if = {
				limit = { FROMFROM = { tier = EMPEROR } }
				prestige = 200
			}
		}
	}
}

# Seduced: the scandal breaks!
character_event = {
	id = DWLilith.5061
	title = EVTTITLE_WOL_60
	desc = EVTDESC_WOL_61
	
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		any_spouse = {
			limit = {
				NOT = { character = FROMFROM }
				NOT = { character = FROM }
			}
			character_event = { id = DWLilith.5063 }
		}
		any_consort = {
			limit = {
				NOT = { character = FROMFROM }
				NOT = { character = FROM }
			}
			character_event = { id = DWLilith.5063 }
		}
	}
	
	option = {
		name = {
			text = EVTOPTA_WOL_61_F
			trigger = {
				is_female = yes
			}
		}
		name = {
			text = EVTOPTA_WOL_60_M
			trigger = {
				is_female = no
			}
		}
		
		if = {
			limit = {
				age_diff = {
					who = FROM
					years = 25
				}
				is_older_than = FROM
			}
			tooltip = {
				add_character_modifier = {
					name = cradle_robber
					years = 5
				}
			}
		}
		
		if = {
			limit = {
				religion_group = christian
				OR = {
					is_priest = yes
					trait = monk
					trait = nun
				}
			}
			tooltip = {
				add_character_modifier = {
					name = adulterous_priest
					years = 20
				}
			}
		}
		
		if = {
			limit = {
				same_sex = FROM
				is_female = no
			}
			tooltip = {
				add_character_modifier = {
					name = known_sodomite
					years = 20
				}
			}
		}
		
		if = {
			limit = {
				is_close_relative = FROM
			}
			if = {
				limit = {
					is_female = yes
				}
				tooltip = {
					add_character_modifier = {
						name = incestuous_adulteress
						years = 20
					}
				}
			}
			if = {
				limit = {
					is_female = no
				}
				tooltip = {
					add_character_modifier = {
						name = incestuous_adulterer
						years = 20
					}
				}
			}
			break = yes
		}
		
		if = {
			limit = {
				is_female = no
				is_married = yes
			}
			tooltip = {
				add_character_modifier = {
					name = adulterer
					years = 20
				}
			}
		}
		if = {
			limit = {
				is_female = yes
			}
			tooltip = {
				add_character_modifier = {
					name = adulteress
					years = 20
				}
			}
		}
	}
}

# Spouse/Consort of Seducer: the scandal breaks!
character_event = {
	id = DWLilith.5062
	title = EVTTITLE_WOL_60
	desc = EVTDESC_WOL_62
	
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = {
			text = EVTOPTA_WOL_62_CR
			trigger = {
				FROM = { is_close_relative = FROMFROMFROM }
			}
		}
		name = {
			text = EVTOPTA_WOL_62
			trigger = {
				FROM = { NOT = { is_close_relative = FROMFROMFROM } }
			}
		}
	}
}

# Spouse/Consort of Seduced: the scandal breaks!
character_event = {
	id = DWLilith.5063
	title = EVTTITLE_WOL_60
	desc = EVTDESC_WOL_63
	
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = {
			text = EVTOPTA_WOL_63_CR
			trigger = {
				FROM = { is_close_relative = FROMFROM }
			}
		}
		name = {
			text = EVTOPTA_WOL_62
			trigger = {
				FROM = { NOT = { is_close_relative = FROMFROM } }
			}
		}
	}
}

# Chance of Intrigue boost
character_event = {
	id = DWLilith.5080
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				trait = amateurish_plotter
			}
			random = {
				chance = 10
				set_character_flag = int_ed_boost
				character_event = { id = DWLilith.5081 }
			}
			break = yes
		}
		if = {
			limit = {
				trait = flamboyant_schemer
			}
			random = {
				chance = 5
				set_character_flag = int_ed_boost
				character_event = { id = DWLilith.5081 }
			}
			break = yes
		}
		if = {
			limit = {
				trait = intricate_webweaver
			}
			random = {
				chance = 1
				set_character_flag = int_ed_boost
				character_event = { id = DWLilith.5081 }
			}
			break = yes
		}
		
		if = {
			limit = {
				NOT = { has_character_modifier = wol_court_vixen }
				NOT = { has_character_modifier = wol_court_tomcat }
			}
			random = {
				chance = 5
				set_character_flag = int_fox_boost
				character_event = { id = DWLilith.5081 }
			}
		}
	}
}

character_event = {
	id = DWLilith.5081
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_81_HOMO
		trigger = {
			trait = homosexual
		}
	}
	desc = {
		text = EVTDESC_WOL_81_F
		trigger = {
			is_female = yes
			NOT = { trait = homosexual }
		}
	}
	desc = {
		text = EVTDESC_WOL_81_M
		trigger = {
			is_female = no
			NOT = { trait = homosexual }
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_81
		
		if = {
			limit = {
				has_character_flag = int_ed_boost
				trait = amateurish_plotter
			}
			hidden_tooltip = { remove_trait = amateurish_plotter }
			add_trait = flamboyant_schemer
			clr_character_flag = int_ed_boost
			break = yes
		}
		if = {
			limit = {
				has_character_flag = int_ed_boost
				trait = flamboyant_schemer
			}
			hidden_tooltip = { remove_trait = flamboyant_schemer }
			add_trait = intricate_webweaver
			clr_character_flag = int_ed_boost
			break = yes
		}
		if = {
			limit = {
				has_character_flag = int_ed_boost
				trait = intricate_webweaver
			}
			hidden_tooltip = { remove_trait = intricate_webweaver }
			add_trait = elusive_shadow
			clr_character_flag = int_ed_boost
			break = yes
		}
		
		if = {
			limit = {
				is_female = yes
				has_character_flag = int_fox_boost
			}
			add_character_modifier = {
				modifier = wol_court_vixen
				duration = -1
			}
			clr_character_flag = int_fox_boost
			break = yes
		}
		if = {
			limit = {
				is_female = no
				has_character_flag = int_fox_boost
			}
			add_character_modifier = {
				modifier = wol_court_tomcat
				duration = -1
			}
			clr_character_flag = int_fox_boost
			break = yes
		}
	}
}

# Tumble impregnation chance event - ping back to female
character_event = {
	id = DWLilith.5097
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = { character_event = { id = DWLilith.5098 } }
	}
}

# Tumble impregnation chance event
character_event = {
	id = DWLilith.5098
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
	
		# STD transmission
		if = {
			limit = { has_character_modifier = minor_disease_herpes }
			FROM = { character_event = { id = DWLilith.5040 days = 5 random = 10 } }
		}
		if = {
			limit = { FROM = { has_character_modifier = minor_disease_herpes } }
			character_event = { id = DWLilith.5040 days = 5 random = 10 }
		}
		
		# AI affair pregnancy limiter
		if = {
			limit = {
				ai = yes
				FROM = { ai = yes }
				has_character_modifier = lustful_affair_timer
			}
			break = yes
		}
		add_character_modifier = {
			name = lustful_affair_timer
			duration = 2190
			hidden = yes
		}
		
		if = {
			limit = {
				OR = {
					is_female = no
					age = 45
					is_pregnant = yes
					FROM = { is_female = yes }
					NOT = { fertility = 0.2 }
					NOT = { FROM = { fertility = 0.2 } }
				}
			}
			break  = yes
		}
		
		if = {
			limit = {
				OR = {
					is_pregnant = yes
					FROM = { is_pregnant = yes }
				}
			}
			break = yes
		}
	
		# Chance of impregnation
		if = {
			limit = {
				fertility = 0.6
				OR = {
					ai = no
					NOT = { num_of_children = 4 }
				}
				FROM = {
					fertility = 0.6
					OR = {
						ai = no
						NOT = { num_of_children = 4 }
					}
				}
			}
			random = {
				chance = 50
				if = {
					limit = {
						is_married = no
						is_consort = no
					}
					impregnate = FROM
					break = yes
				}
				impregnate_cuckoo = FROM
			}
			break = yes
		}
		
		if = {
			limit = {
				fertility = 0.5
				OR = {
					ai = no
					NOT = { num_of_children = 6 }
				}
				FROM = {
					fertility = 0.5
					OR = {
						ai = no
						NOT = { num_of_children = 6 }
					}
				}
			}
			random = {
				chance = 33
				if = {
					limit = {
						is_married = no
						is_consort = no
					}
					impregnate = FROM
					break = yes
				}
				impregnate_cuckoo = FROM
			}
			break = yes
		}
		if = {
			limit = {
				fertility = 0.34
				FROM = { fertility = 0.34 }
			}
			random = {
				chance = 15
				if = {
					limit = {
						is_married = no
						is_consort = no
					}
					impregnate = FROM
					break = yes
				}
				impregnate_cuckoo = FROM
			}
			break = yes
		}
		
		random = {
			chance = 5
			if = {
				limit = {
					is_married = no
					is_consort = no
				}
				impregnate = FROM
				break = yes
			}
			impregnate_cuckoo = FROM
		}
	}
}

# .5096 Seducer / Seductress level up chance
character_event = {
	id = DWLilith.5096
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		
		# Chance of trait adjustments
		if = {
			limit = {
				NOT = { trait = chaste }
				NOT = { trait = lustful }
				random = 85 # 15% chance
			}
			add_trait = lustful
			character_event = { id = 38272 } # Lustful notification
		}
		
		if = {
			limit = {
				trait = chaste
				random = 50
			}
			remove_trait = chaste
			character_event = { id = 38303 } # Chaste loss notification
		}
		
		# Chance of various Intrigue boosters
		character_event = { id = DWLilith.5080 days = 7 } 
		
		# Chance of levelling up Seducer skills
		if = {
			limit = {
				has_character_modifier = wol_seducer_2
			}
			random = {
				chance = 10
				character_event = { id = DWLilith.5099 days = 4 } # Gain the Master Seducer trait
			}
			break = yes
		}
		if = {
			limit = {
				has_character_modifier = wol_seducer_1
			}
			random = {
				chance = 20
				remove_character_modifier = wol_seducer_1
				add_character_modifier = {
					modifier = wol_seducer_2
					duration = -1
				}
			}
			break = yes
		}
		
		if = {
			limit = {
				NOR = {
					trait = seducer
					trait = seductress
				}
			}
			random = {
				chance = 50
				add_character_modifier = {
					modifier = wol_seducer_1
					duration = -1
				}
			}
		}
	}
}

# .5099 Seducer / Seductress or Hedonist trait gained!
character_event = {
	id = DWLilith.5099
	desc = EVTDESC_WOL_99
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { lifestyle_traits = 1 }
		NOT = { has_character_flag = wol_no_to_seducer_trait }
	}
	
	immediate = {
		if = {
			limit = {
				has_nickname = no
			}
			if = {
				limit = {
					is_female = yes
				}
				random_list = {
					34 = { give_nickname = nick_the_temptress }
					33 = { give_nickname = nick_the_beguiling }
					33 = { give_nickname = nick_the_wicked }
				}
			}
			if = {
				limit = {
					is_female = no
				}
				random_list = {
					34 = { give_nickname = nick_the_seducer }
					33 = { give_nickname = nick_the_lewd }
					33 = { give_nickname = nick_the_lecher }
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_WOL_99
		trigger = {
			is_female = yes
			NOT = { religion_group = muslim }
			NOT = { religion_group = zoroastrian_group }
			NOT = { religion_group = indian_group }
		}
		ai_chance = {
			factor = 100
		}
		remove_character_modifier = wol_seducer_2
		add_trait = seductress
#		log = "DWLilith.5099: [Root.GetTitledName] achieves the lifestyle Seductress!"
	}
	
	option = {
		name = EVTOPTA_WOL_99_PERS
		trigger = {
			is_female = yes
			OR = {
				religion_group = muslim
				religion_group = zoroastrian_group
				religion_group = indian_group
			}
		}
		ai_chance = {
			factor = 100
		}
		remove_character_modifier = wol_seducer_2
		add_trait = seductress
#		log = "DWLilith.5099: [Root.GetTitledName] achieves the lifestyle Seductress!"
	}
	
	option = {
		name = EVTOPTB_WOL_99
		trigger = {
			is_female = no
		}
		ai_chance = {
			factor = 100
		}
		remove_character_modifier = wol_seducer_2
		add_trait = seducer
#		log = "DWLilith.5099: [Root.GetTitledName] achieves the lifestyle Seducer!"
	}
	
	option = {
		name = EVTOPTC_WOL_99
		add_trait = hedonist
		ai_chance = {
			factor = 20
			modifier = {
				factor = 5.0
				trait = arbitrary
			}
		}
#		log = "DWLilith.5099: [Root.GetTitledName] achieves the lifestyle Hedonist!"
	}
	
	option = {
		name = EVTOPTD_WOL_99
		ai_chance = {
			factor = 0
		}
		set_character_flag = wol_no_to_seducer_trait
	}
}

# .5300 Seduction - Dance
character_event = {
	id = DWLilith.5300
	title = EVTTITLE_WOL_300
	
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_300
		trigger = {
			FROM = { is_female = no }
			OR = {
				NOT = { is_close_relative = FROM }
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
	}
	
	desc = {
		text = EVTDESC_WOL_300_CR
		trigger = {
			is_close_relative = FROM
			NOT = {
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
	}
	
	desc = {
		text = EVTDESC_WOL_300_M
		trigger = {
			FROM = { is_female = yes }
			OR = {
				NOT = { is_close_relative = FROM }
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		FROM = { set_character_flag = wol_seduce_dance }
	}
	
	option = { # Encourage
		name = {
			text = EVTOPTA_WOL_300 # Male. Encourage this.
			trigger = {
				is_female = no
				NOT = { is_close_relative = FROM }
			}
		}
		name = {
			text = EVTOPTA_WOL_300_F # Female. Encourage this.
			trigger = {
				is_female = yes
				NOT = { is_close_relative = FROM }
			}
		}
		name = {
			text = EVTOPTA_WOL_300_CR # Encourage the pervert
			trigger = {
				is_close_relative = FROM
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.5
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 2.25
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 5.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_seduced_repelled
					}
				}
			}
			opinion = {
				who = FROM
				modifier = opinion_seduced_attracted
			}
		}
		
		if = {
			limit = {
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_repelled
				}
			}
			remove_opinion = {
				who = FROM
				modifier = opinion_seduced_repelled
			}
		}
		FROM = { character_event = { id = DWLilith.5301 tooltip = EVTTOOLTIP_WoL_301 } }
	}
	
	option = {
		name = EVTOPTB_WOL_300 # Rebuff
		trigger = {
			is_married = no
			NOT = {
				age_diff = {
					who = FROM
					years = 25
				}
			}
			OR = {
				NOT = { is_close_relative = FROM }
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
		ai_chance = {
			factor = 100
		}
		FROM = { character_event = { id = DWLilith.5302 tooltip = EVTTOOLTIP_WoL_302 } }
	}
	option = {
		name = EVTOPTB_WOL_300_MAR # Rebuff - I am married!
		trigger = {
			OR = {
				is_married = yes
				is_consort = yes
			}
			OR = {
				NOT = { is_close_relative = FROM }
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 5.0
				is_female = yes
				NOT = { trait = lustful }
				NOT = { trait = hedonist }
				NOT = { trait = seducer }
				NOT = { trait = seductress }
				NOT = { trait = arbitrary }
				NOT = { has_focus = focus_seduction }
				OR = {
					trait = craven
					trait = chaste
					any_spouse = {
						OR = {
							is_lover = ROOT
							ROOT = {
								opinion_diff = {
									first = PREV
									second = FROM
									value = 10
								}
							}
						}
					}
				}
			}
		}
		
		FROM = { character_event = { id = DWLilith.5302 tooltip = EVTTOOLTIP_WoL_302 } }
	}
	option = {
		name = EVTOPTB_WOL_300_OLD # Rebuff - I'm too old!
		trigger = {
			is_married = no
			is_consort = no
			age_diff = {
				who = FROM
				years = 25
			}
			is_older_than = FROM
			OR = {
				NOT = { is_close_relative = FROM }
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
		ai_chance = {
			factor = 100
		}
		FROM = { character_event = { id = DWLilith.5302 tooltip = EVTTOOLTIP_WoL_302 } }
	}
	option = {
		name = EVTOPTB_WOL_300_YOUNG # Rebuff - I'm too young!
		trigger = {
			is_married = no
			is_consort = no
			age_diff = {
				who = FROM
				years = 25
			}
			NOT = { is_older_than = FROM }
			OR = {
				NOT = { is_close_relative = FROM }
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
		ai_chance = {
			factor = 100
		}
		FROM = { character_event = { id = DWLilith.5302 tooltip = EVTTOOLTIP_WoL_302 } }
	}
	option = {
		name = EVTOPTB_WOL_300_CR # Rebuff - Pervert!
		trigger = {
			is_close_relative = FROM
			NOT = {
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_attracted
				}
			}
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 5.0
				is_female = yes
				OR = {
					is_married = yes
					is_consort = yes
				}
				NOT = { trait = lustful }
				NOT = { trait = hedonist }
				NOT = { trait = seducer }
				NOT = { trait = seductress }
				NOT = { trait = arbitrary }
				NOT = { has_focus = focus_seduction }
				OR = {
					trait = craven
					trait = chaste
					any_spouse = {
						OR = {
							is_lover = ROOT
							ROOT = {
								opinion_diff = {
									first = PREV
									second = FROM
									value = 10
								}
							}
						}
					}
				}
			}
		}
		
		FROM = { character_event = { id = DWLilith.5302 tooltip = EVTTOOLTIP_WoL_302 } }
	}

	option = {
		name = EVTOPTREFUSE_WOL100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2.0
				trait = stubborn
			}
			modifier = {
				factor = 0.2
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					NOT = { num_of_dynasty_members = 2 }
					AND = {
						lower_tier_than = FROM
						father = { lower_tier_than = FROM }
						mother = { lower_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					AND = {
						higher_tier_than = FROM
						father = { higher_tier_than = FROM }
						mother = { higher_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				NOR = {
					trait = lustful 
					trait = deceitful
					trait = arbitrary
					trait = hedonist
					trait = seductress
					trait = seducer
				}
			}
			modifier = {
				factor = 2.0
				trait = chaste
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 25
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 50
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 75
					}
				}
			}
		}
		opinion = { who = FROM modifier = opinion_seduced_refused }
		add_character_modifier = { name = dismissed_proposal duration = 3650 }
		FROM = { narrative_event = { id = DWLilith.5020 } }
	}
}

# .5301 Seducer: Seduction - Dance - Advance Encouraged
character_event = {
	id = DWLilith.5301
	title = EVTTITLE_WOL_300
	
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_301
		trigger = {
			same_realm = FROM
		}
	}
	desc = {
		text = EVTDESC_WOL_301_DISTANT
		trigger = {
			NOT = { same_realm = FROM }
		}
	}
	
	is_triggered_only = yes
	
	option = { # Attempt tumble
		name = EVTOPTA_WOL_301
		FROM = { character_event = { id = DWLilith.5303 days = 1 tooltip = EVTTOOLTIP_WoL_303 } }
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				is_female = yes
			}
		}
	}
	
	option = { # Charm / increase opinion
		name = EVTOPTB_WOL_301
		FROM = { character_event = { id = DWLilith.5304 days = 1 tooltip = EVTTOOLTIP_WoL_304 } }
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				trait = lustful
			}
		}
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	
	option = { # End it, I'm bored
		name = EVTOPTC_WOL_301
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
			}
		}
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
			FROM = { character_event = { id = DWLilith.5305 days = 1 } }
		}
	}
}

# .5302 Seducer: Seduction - Dance - Advance Rebuffed
character_event = {
	id = DWLilith.5302
	title = EVTTITLE_WOL_300
	desc = EVTDESC_WOL_302
	
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_302 # Fine. Back to the drawing board.
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	
	option = { # End it, I'm bored
		name = EVTOPTB_WOL_307
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# .5303 Target: Seduction - Dance - Advance Encouraged - Tumble Attempt
character_event = {
	id = DWLilith.5303
	title = EVTTITLE_WOL_300
	
	desc = {
		text = EVTDESC_WOL_303
		trigger = { is_female = no }
	}
	desc = {
		text = EVTDESC_WOL_303_F
		trigger = { is_female = yes }
	}
	
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = { # The flesh is weak
		name = EVTOPTA_WOL_303
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2.0
				OR = {
					is_female = no
					age = 45
				}
			}
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 2.25
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 5.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
		}
		
		FROM = { character_event = { id = DWLilith.5306 days = 1 tooltip = EVTTOOLTIP_WoL_306 } }
	}
	option = { # Rebuff
		name = EVTOPTB_WOL_303
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0.01
				trait = cruel
			}
		}
		hidden_tooltip = {
			FROM = { character_event = { id = DWLilith.5307 days = 1 } }
		}
	}
	option = { # Cruel rebuff
		name = EVTOPTC_WOL_303
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				NOT = { trait = cruel }
			}
		}
		trigger = {
			is_female = no
		}
		hidden_tooltip = {
			FROM = { character_event = { id = DWLilith.5308 days = 1 } }
		}
	}
	option = { # Cruel rebuff
		name = EVTOPTC_WOL_303_F
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 0
				NOT = { trait = cruel }
			}
		}
		trigger = {
			is_female = yes
		}
		hidden_tooltip = {
			FROM = { character_event = { id = DWLilith.5308 days = 1 } }
		}
	}
}

# .5304 Target: Seduction - Dance - Advance Encouraged - Left yearning
character_event = {
	id = DWLilith.5304
	title = EVTTITLE_WOL_300
	desc = EVTDESC_WOL_304
	
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_304
		opinion = {
			who = FROM
			modifier = opinion_seduced_yearning
			months = 24
		}
	}
}

# .5305 Target: Seduction - Dance - Advance Encouraged - Chase ended
character_event = {
	id = DWLilith.5305
	title = EVTTITLE_WOL_300
	desc = EVTDESC_WOL_305
	
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_305
	}
}

# .5306 Seducer: Seduction - bed games - End
character_event = {
	id = DWLilith.5306
	
	desc = {
		text = EVTDESC_WOL_306_CR
		trigger = {
			is_close_relative = FROM
		}
	}
	
	desc = {
		text = EVTDESC_WOL_306
		trigger = {
			NOT = { is_close_relative = FROM }
		}
	}
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		# Chance of levelling up Seduction skill
		character_event = { id = DWLilith.5096 } 
	
		# End the Seduction
		character_event = { id = DWLilith.5018 }
		
		# Scandal check
		FROM = { character_event = { id = DWLilith.5050 } }
		
		# Casanova achievement check event
		hidden_tooltip = { character_event = { id = 718 } }

		# Chance of impregnation

		if = {
			limit = { is_female = yes }
			FROM = { character_event = { id = DWLilith.5097 } }
		}
		if = {
			limit = { is_female = no }
			FROM = { character_event = { id = DWLilith.5098 } }
		}
	}
	
	option = {
		name = EVTOPTA_WOL_306 # Love and leave
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.1
				NOT = { num_of_lovers = 1 }
			}
			modifier = {
				factor = 0.5
				trait = kind
			}
			modifier = {
				factor = 10
				num_of_lovers = 1
			}
			modifier = {
				factor = 10
				num_of_lovers = 2
			}
			modifier = {
				factor = 10
				num_of_lovers = 3
			}
			modifier = {
				factor = 10
				num_of_lovers = 4
			}
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
		}
		custom_tooltip = { text = EVTOPTA_WOL_306_CUSTOM }
	}
	
	option = {
		name = EVTOPTB_WOL_306 # Our love must grow
		ai_chance = {
			factor = 100
		}
		add_lover = FROM
	}
}

# .5307 Seducer: Seduction - Dance - Rebuff End
character_event = {
	id = DWLilith.5307
	title = EVTTITLE_WOL_300
	desc = EVTDESC_WOL_307
	
	picture = GFX_evt_dancing
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_307
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	
	option = { # End it, I'm bored
		name = EVTOPTB_WOL_307
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# .5308 Seducer: Seduction - Dance - Cruel Rebuff End
character_event = {
	id = DWLilith.5308
	title = EVTTITLE_WOL_300
	desc = EVTDESC_WOL_308
	
	picture = GFX_evt_quarrel
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_308
		
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	
	option = { # End this
		name = {
			text = EVTOPTB_WOL_308
			trigger = { FROM = { is_female = no } }
		}
		name = {
			text = EVTOPTB_WOL_308_F
			trigger = { FROM = { is_female = yes } }
		}
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 500
				FROM = { ai = no }
			}
		}
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

######################################################
# Seduction - "Chance" meeting late in the kitchen
######################################################
# .5350
character_event = {
	id = DWLilith.5350
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = { character_event = { id = DWLilith.5351 } }
	}
}

# .5351 Seducer: Attraction in the kitchen
character_event = {
	id = DWLilith.5351
	title = EVTTITLE_WOL_351
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_351
		trigger = {
			same_realm = FROM
		}
	}
	desc = {
		text = EVTDESC_WOL_351_DISTANT
		trigger = {
			NOT = { same_realm = FROM }
		}
	}
	
	is_triggered_only = yes
	
	option = { # Confess Love
		name = EVTOPTA_WOL_351
		ai_chance = {
			factor = 100
		}
		FROM = {
			set_character_flag = seduction_whisper_love
			character_event = { id = DWLilith.5352 days = 1 tooltip = EVTTOOLTIP_WoL_352_LOVE }
		}
	}
	option = { # Lewd suggestion
		name = EVTOPTB_WOL_351
		ai_chance = {
			factor = 100
		}
		FROM = {
			set_character_flag = seduction_whisper_lewd
			character_event = { id = DWLilith.5352 days = 1 tooltip = EVTTOOLTIP_WoL_352_LEWD }
		}
	}
	option = { # Quote Poet
		name = EVTOPTC_WOL_351
		ai_chance = {
			factor = 100
		}
		FROM = {
			set_character_flag = seduction_whisper_poet
			character_event = { id = DWLilith.5352 days = 1 tooltip = EVTTOOLTIP_WoL_352_POET }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seducer
		}
		tooltip_info = seducer
		ai_chance = {
			factor = 10000
		}
		FROM = {
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5352 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seductress
		}
		tooltip_info = seductress
		ai_chance = {
			factor = 10000
		}
		FROM = {
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5352 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
}

# .5352 Target: Confession of love
character_event = {
	id = DWLilith.5352
	title = EVTTITLE_WOL_351
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_352_CR
		trigger = {
			is_close_relative = FROM
		}
	}
	desc = {
		text = EVTDESC_WOL_352_HOMO
		trigger = {
			NOT = { is_close_relative = FROM }
			same_sex = FROM
		}
	}
	desc = {
		text = EVTDESC_WOL_352
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
			same_realm = FROM
		}
	}
	desc = {
		text = EVTDESC_WOL_352_DISTANT
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
			NOT = { same_realm = FROM }
		}
	}
	
	is_triggered_only = yes
	
	option = { # Fall for poesy
		name = EVTOPTA_WOL_352_POET
		trigger = { has_character_flag = seduction_whisper_poet }
		
		ai_chance = {
			factor = 50 # Lower base chance
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { learning = 5 }
				NOT = { trait = scholar }
				NOT = { trait = mystic }
				NOT = { trait = poet }
				NOT = { trait = mastermind_theologian }
				NOT = { trait = scholarly_theologian }
			}
			modifier = {
				factor = 0.25
				NOT = { age = 25 }
				NOT = { trait = scholar }
				NOT = { trait = mystic }
				NOT = { trait = poet }
				NOT = { trait = mastermind_theologian }
				NOT = { trait = scholarly_theologian }
			}
			modifier = {
				factor = 10.0
				trait = poet
			}
			modifier = {
				factor = 5.0
				trait = scholar
			}
			modifier = {
				factor = 3.0
				trait = mystic
			}
			modifier = {
				factor = 1.5
				learning = 10
			}
			modifier = {
				factor = 1.5
				learning = 12
			}
			modifier = {
				factor = 1.5
				learning = 15
			}
			modifier = {
				factor = 4.0
				OR = {
					trait = mastermind_theologian
					trait = scholarly_theologian
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
				}
			}
			modifier = {
				factor = 0.5
				trait = wroth
			}
		}
		
		FROM = { character_event = { id = DWLilith.5306 days = 1 tooltip = EVTTOOLTIP_WoL_306_2 } }
		clr_character_flag = seduction_whisper_poet
	}
	
	option = { # Fall for lewdness
		name = EVTOPTA_WOL_352_LEWD
		trigger = { has_character_flag = seduction_whisper_lewd }
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 2.0
				trait = hedonist
			}
			modifier = {
				factor = 3.0
				trait = lustful
			}
			modifier = {
				factor = 2.0
				trait = gregarious
			}
			modifier = {
				factor = 1.5
				trait = deceitful
			}
			modifier = {
				factor = 0.25
				is_female = yes
				NOT = { age = 25 }
				NOT = { trait = lustful }
			}
			modifier = {
				factor = 0.75
				trait = kind
			}
			modifier = {
				factor = 0.75
				trait = honest
			}
			modifier = {
				factor = 0.75
				trait = zealous
			}
			modifier = {
				factor = 0.25
				trait = shy
			}
		}
		
		FROM = { character_event = { id = DWLilith.5306 days = 1 tooltip = EVTTOOLTIP_WoL_306_2 } }
		clr_character_flag = seduction_whisper_lewd
	}
	
	option = { # Fall for words of love
		name = EVTOPTA_WOL_352_LOVE
		trigger = { has_character_flag = seduction_whisper_love }
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 0.25
				trait = cynical
			}
			modifier = {
				factor = 0.25
				trait = paranoid
			}
			modifier = {
				factor = 0.5
				trait = gregarious
			}
			modifier = {
				factor = 0.5
				trait = deceitful
			}
			modifier = {
				factor = 0.5
				age = 25
			}
			modifier = {
				factor = 2.0
				NOT = { age = 25 }
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = honest
			}
			modifier = {
				factor = 1.5
				trait = zealous
			}
			modifier = {
				factor = 1.5
				trait = shy
			}
			modifier = {
				factor = 2.0
				trait = trusting
			}
		}
		
		FROM = { character_event = { id = DWLilith.5306 days = 1 tooltip = EVTTOOLTIP_WoL_306_2 } }
		clr_character_flag = seduction_whisper_love
	}
	
	option = { # Fall for seduction trick
		name = EVTOPTA_WOL_352_BREATH
		trigger = { has_character_flag = seduction_whisper_breath }
		
		ai_chance = {
			factor = 1000 # Much higher base chance
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
		}
		
		FROM = { character_event = { id = DWLilith.5306 days = 1 tooltip = EVTTOOLTIP_WoL_306_2 } }
		clr_character_flag = seduction_whisper_breath
	}
	
	option = { # Spurn
		name = {
			text = EVTOPTB_WOL_352_POET
			trigger = { has_character_flag = seduction_whisper_poet }
		}
		name = {
			text = EVTOPTB_WOL_352_LEWD
			trigger = { has_character_flag = seduction_whisper_lewd }
		}
		name = {
			text = EVTOPTB_WOL_352_LOVE
			trigger = { has_character_flag = seduction_whisper_love }
		}
		name = {
			text = EVTOPTB_WOL_352_BREATH
			trigger = { has_character_flag = seduction_whisper_breath }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10.0
				is_female = yes
				NOT = { trait = lustful }
				NOT = { trait = hedonist }
				NOT = { trait = seducer }
				NOT = { trait = seductress }
				NOT = { trait = arbitrary }
				NOT = { has_focus = focus_seduction }
				OR = {
					trait = craven
					trait = chaste
					any_spouse = {
						OR = {
							is_lover = ROOT
							ROOT = {
								opinion_diff = {
									first = PREV
									second = FROM
									value = 10
								}
							}
						}
					}
					any_consort = {
						OR = {
							is_lover = ROOT
							ROOT = {
								opinion_diff = {
									first = PREV
									second = FROM
									value = 10
								}
							}
						}
					}
				}
			}
		}
		
		hidden_tooltip = {
			FROM = {
				set_character_flag = seduction_rebuff_351
				character_event = { id = DWLilith.5353 days = 1 }
			}
		}
		
		clr_character_flag = seduction_whisper_love
		clr_character_flag = seduction_whisper_lewd
		clr_character_flag = seduction_whisper_poet
		clr_character_flag = seduction_whisper_breath
	}

	option = {
		name = EVTOPTREFUSE_WOL100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2.0
				trait = stubborn
			}
			modifier = {
				factor = 0.2
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					NOT = { num_of_dynasty_members = 2 }
					AND = {
						lower_tier_than = FROM
						father = { lower_tier_than = FROM }
						mother = { lower_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					AND = {
						higher_tier_than = FROM
						father = { higher_tier_than = FROM }
						mother = { higher_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				NOR = {
					trait = lustful 
					trait = deceitful
					trait = arbitrary
					trait = hedonist
					trait = seductress
					trait = seducer
				}
			}
			modifier = {
				factor = 2.0
				trait = chaste
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 25
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 50
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 75
					}
				}
			}
		}
		opinion = { who = FROM modifier = opinion_seduced_refused }
		add_character_modifier = { name = dismissed_proposal duration = 3650 }
		FROM = { narrative_event = { id = DWLilith.5020 } }
	}
}


# .5353 Seducer: Seduction rebuffed!
character_event = {
	id = DWLilith.5353
	
	title = {
		text = EVTTITLE_WOL_351
		trigger = {
			has_character_flag = seduction_rebuff_351
		}
	}
	title = {
		text = EVTTITLE_WOL_401
		trigger = {
			has_character_flag = seduction_rebuff_401
		}
	}
	
	desc = {
		text = EVTDESC_WOL_353_CR
		trigger = {
			is_close_relative = FROM
		}
	}
	
	desc = {
		text = EVTDESC_WOL_353_OLD_M
		trigger = {
			NOT = { is_close_relative = FROM }
			age_diff = {
				who = FROM
				years = 25
			}
			is_older_than = FROM
			is_female = no
		}
	}
	desc = {
		text = EVTDESC_WOL_353_OLD_F
		trigger = {
			NOT = { is_close_relative = FROM }
			age_diff = {
				who = FROM
				years = 25
			}
			is_older_than = FROM
			is_female = yes
		}
	}
	desc = {
		text = EVTDESC_WOL_353_YOUNG
		trigger = {
			NOT = { is_close_relative = FROM }
			age_diff = {
				who = FROM
				years = 25
			}
			NOT = { is_older_than = FROM }
		}
	}
	desc = {
		text = EVTDESC_WOL_353
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = {
				age_diff = {
					who = FROM
					years = 25
				}
			}
		}
	}
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_307
		ai_chance = {
			factor = 100
		}
		
		clr_character_flag = seduction_rebuff_351
		clr_character_flag = seduction_rebuff_401
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	
	option = { # End it, I'm bored
		name = EVTOPTB_WOL_307
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
		
		clr_character_flag = seduction_rebuff_351
		clr_character_flag = seduction_rebuff_401
	}
}


######################################################
# Seduction - Court picnic in the wild
######################################################

# .5400
character_event = {
	id = DWLilith.5400
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROM = { character_event = { id = DWLilith.5401 } }
	}
}

# .5401 Seducer: Attempts to get target alone
character_event = {
	id = DWLilith.5401
	title = EVTTITLE_WOL_401
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_401
		trigger = {
			same_realm = FROM
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
		}
	}
	desc = {
		text = EVTDESC_WOL_401_DISTANT
		trigger = {
			NOT = { same_realm = FROM }
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
		}
	}
	desc = {
		text = EVTDESC_WOL_401_HOMO
		trigger = {
			NOT = { is_close_relative = FROM }
			same_sex = FROM
		}
	}
	desc = {
		text = EVTDESC_WOL_401_CR
		trigger = {
			is_close_relative = FROM
		}
	}
	
	is_triggered_only = yes
	
	option = { # Find an ally among target's friends
		name = EVTOPTA_WOL_401
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
		}
		ai_chance = {
			factor = 100
		}

		hidden_tooltip = {
			FROM = {
				random_courtier = {
					limit = {
						prisoner = no
						ai = yes
						same_sex = PREV
						is_adult = yes
						NOT = { character = ROOT }
						NOT = { character = PREV }
						NOT = { trait = incapable }
						NOT = { trait = on_hajj }
						NOT = { trait = in_hiding }
						NOT = { trait = on_pilgrimage }
						NOT = { is_father = PREV }
						NOT = { is_mother = PREV }
						NOT = { is_lover = PREV }
						NOT = { is_rival = PREV }
					}
					character_event = { id = DWLilith.5402 days = 1 }
					break = yes
				}
				character_event = { id = DWLilith.5413 days = 1 } # Failed to find a courtier
			}
		}
	}
	
	option = { # Leave a note for target
		name = EVTOPTB_WOL_401
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
		}
		ai_chance = {
			factor = 100
		}
		hidden_tooltip = {
			FROM = {
				random_courtier = {
					limit = {
						OR = {
							character = PREV # The target
							AND = {
								prisoner = no
								is_adult = yes
								NOT = { character = ROOT }
								NOT = { character = PREV }
								NOT = { trait = incapable }
								NOT = { trait = on_hajj }
								NOT = { trait = in_hiding }
								NOT = { trait = on_pilgrimage }
								at_location = PREV
								OR = {
									AND = {
										OR = {
											has_opinion_modifier = {
												who = ROOT
												modifier = opinion_chasing_friend
											}
											has_opinion_modifier = {
												who = ROOT
												modifier = opinion_chasing_spouse
											}
											has_opinion_modifier = {
												who = ROOT
												modifier = opinion_chasing_child
											}
										}
										random = 50 # 50% chance
									}
									AND = {
										OR = {
											any_spouse = { character = PREVPREV }
											is_father = PREV
											is_liege_of = PREV
										}
										random = 90 # 10% chance
									}
									random = 98 # 2% chance
								}
							}
						}
					}
					character_event = { id = DWLilith.5417 days = 1 }
				}
			}
		}
	}
	option = { # Simply take a walk with target
		name = EVTOPTC_WOL_401
		trigger = {
			OR = {
				same_sex = FROM
				is_close_relative = FROM
			}
		}
		ai_chance = {
			factor = 100
		}
		
		hidden_tooltip = {
			character_event = { id = DWLilith.5431 days = 1 }
		}
	}
	option = { # Take what chances I can to build attraction
		name = EVTOPTD_WOL_401
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
		}
		ai_chance = {
			factor = 10
		}
		
		hidden_tooltip = {
			FROM = { character_event = { id = DWLilith.5415 days = 1 } }
		}
	}
}

# .5402 Courtier approached for help
character_event = {
	id = DWLilith.5402
	hide_window = yes
	is_triggered_only = yes
	
	option = {
		# Assist
		ai_chance = {
			factor = 200
		}
		
		FROM = { character_event = { id = DWLilith.5403 } }
	}
	
	option = {
		# Refuse and become watchful
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				FROMFROM = {
					is_female = yes
					OR = {
						is_married = yes
						is_consort = yes
						NOT = { age = 35 }
					}
				}
			}
			opinion = {
				who = FROM
				modifier = opinion_chasing_friend
				months = 36
			}
		}
		
		FROMFROM = { character_event = { id = DWLilith.5406 } }
	}
	
	option = {
		# Tip off spouse/consort
		trigger = {
			FROMFROM = {
				OR = {
					is_married = yes
					AND = {
						is_consort = yes
						is_female = yes
					}
				}
			}
		}
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = { FROMFROM = { is_female = yes } }
			opinion = {
				who = FROM
				modifier = opinion_chasing_friend
				months = 36
			}
		}
		
		FROMFROM = { character_event = { id = DWLilith.5408 } }
	}
}

# .5403 Seducer: Friend assists
character_event = {
	id = DWLilith.5403
	title = EVTTITLE_WOL_401
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = EVTDESC_WOL_403
	
	is_triggered_only = yes
	
	option = { # Confess Love
		name = EVTOPTA_WOL_351
		ai_chance = {
			factor = 100
		}
		FROMFROMFROM = {
			set_character_flag = seduction_whisper_love
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_LOVE }
		}
	}
	option = { # Lewd suggestion
		name = EVTOPTB_WOL_351
		ai_chance = {
			factor = 100
		}
		FROMFROMFROM = {
			set_character_flag = seduction_whisper_lewd
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_LEWD }
		}
	}
	option = { # Quote Poet
		name = EVTOPTC_WOL_351
		ai_chance = {
			factor = 100
		}
		FROMFROMFROM = {
			set_character_flag = seduction_whisper_poet
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_POET }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seducer
		}
		tooltip_info = seducer
		ai_chance = {
			factor = 10000
		}
		FROMFROMFROM = {
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seductress
		}
		tooltip_info = seductress
		ai_chance = {
			factor = 10000
		}
		FROMFROMFROM = {
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
}

# .5431 Seducer: Taking a walk with the target (close relative or same sex)
character_event = {
	id = DWLilith.5431
	title = EVTTITLE_WOL_401
	
	show_from_from = yes
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_431
		trigger = {
			NOT = { is_close_relative = FROM }
		}
	}
	desc = {
		text = EVTDESC_WOL_431_CR
		trigger = {
			is_close_relative = FROM
		}
	}
	
	is_triggered_only = yes
	
	option = { # Confess Love
		name = EVTOPTA_WOL_351
		ai_chance = {
			factor = 100
		}
		FROMFROM = {
			set_character_flag = seduction_whisper_love
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_LOVE }
		}
	}
	option = { # Lewd suggestion
		name = EVTOPTB_WOL_351
		ai_chance = {
			factor = 100
		}
		FROMFROM = {
			set_character_flag = seduction_whisper_lewd
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_LEWD }
		}
	}
	option = { # Quote Poet
		name = EVTOPTC_WOL_351
		ai_chance = {
			factor = 100
		}
		FROMFROM = {
			set_character_flag = seduction_whisper_poet
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_POET }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seducer
		}
		tooltip_info = seducer
		ai_chance = {
			factor = 10000
		}
		FROMFROM = {
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seductress
		}
		tooltip_info = seductress
		ai_chance = {
			factor = 10000
		}
		FROMFROM = {
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
}

# .5404 Seduced: Seduction attempt
character_event = {
	id = DWLilith.5404
	title = EVTTITLE_WOL_401
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_404_CR
		trigger = {
			is_close_relative = FROM
			NOT = { has_character_flag = seduction_outing_note }
		}
	}
	desc = {
		text = EVTDESC_WOL_404_HOMO
		trigger = {
			NOT = { is_close_relative = FROM }
			same_sex = FROM
			NOT = { has_character_flag = seduction_outing_note }
		}
	}
	desc = {
		text = EVTDESC_WOL_404
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
			same_realm = FROM
			NOT = { has_character_flag = seduction_outing_note }
		}
	}
	desc = {
		text = EVTDESC_WOL_404_DISTANT
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
			NOT = { same_realm = FROM }
			NOT = { has_character_flag = seduction_outing_note }
		}
	}
	desc = {
		text = EVTDESC_WOL_404_HOMO_NOTE
		trigger = {
			same_sex = FROM
			has_character_flag = seduction_outing_note
		}
	}
	desc = {
		text = EVTDESC_WOL_404_NOTE
		trigger = {
			NOT = { same_sex = FROM }
			has_character_flag = seduction_outing_note
		}
	}
	
	is_triggered_only = yes
	
	option = { # Fall for poesy
		name = EVTOPTA_WOL_352_POET
		trigger = { has_character_flag = seduction_whisper_poet }
		
		ai_chance = {
			factor = 50 # Lower base chance
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { learning = 5 }
				NOT = { trait = scholar }
				NOT = { trait = mystic }
				NOT = { trait = poet }
				NOT = { trait = mastermind_theologian }
				NOT = { trait = scholarly_theologian }
			}
			modifier = {
				factor = 0.25
				NOT = { age = 25 }
				NOT = { trait = scholar }
				NOT = { trait = mystic }
				NOT = { trait = poet }
				NOT = { trait = mastermind_theologian }
				NOT = { trait = scholarly_theologian }
			}
			modifier = {
				factor = 10.0
				trait = poet
			}
			modifier = {
				factor = 5.0
				trait = scholar
			}
			modifier = {
				factor = 3.0
				trait = mystic
			}
			modifier = {
				factor = 1.5
				learning = 10
			}
			modifier = {
				factor = 1.5
				learning = 12
			}
			modifier = {
				factor = 1.5
				learning = 15
			}
			modifier = {
				factor = 4.0
				OR = {
					trait = mastermind_theologian
					trait = scholarly_theologian
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
				}
			}
			modifier = {
				factor = 0.5
				trait = wroth
			}
		}
		
		FROM = { character_event = { id = DWLilith.5405 days = 1 tooltip = EVTTOOLTIP_WoL_405 } }
		clr_character_flag = seduction_whisper_poet
		clr_character_flag = seduction_outing_note
	}
	
	option = { # Fall for lewdness
		name = EVTOPTA_WOL_352_LEWD
		trigger = { has_character_flag = seduction_whisper_lewd }
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 2.0
				trait = hedonist
			}
			modifier = {
				factor = 3.0
				trait = lustful
			}
			modifier = {
				factor = 2.0
				trait = gregarious
			}
			modifier = {
				factor = 1.5
				trait = deceitful
			}
			modifier = {
				factor = 0.25
				is_female = yes
				NOT = { age = 25 }
				NOT = { trait = lustful }
			}
			modifier = {
				factor = 0.75
				trait = kind
			}
			modifier = {
				factor = 0.75
				trait = honest
			}
			modifier = {
				factor = 0.75
				trait = zealous
			}
			modifier = {
				factor = 0.25
				trait = shy
			}
		}
		
		FROM = { character_event = { id = DWLilith.5405 days = 1 tooltip = EVTTOOLTIP_WoL_405 } }
		clr_character_flag = seduction_whisper_lewd
		clr_character_flag = seduction_outing_note
	}
	
	option = { # Fall for words of love
		name = EVTOPTA_WOL_352_LOVE
		trigger = { has_character_flag = seduction_whisper_love }
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 0.25
				trait = cynical
			}
			modifier = {
				factor = 0.25
				trait = paranoid
			}
			modifier = {
				factor = 0.5
				trait = gregarious
			}
			modifier = {
				factor = 0.5
				trait = deceitful
			}
			modifier = {
				factor = 0.5
				age = 25
			}
			modifier = {
				factor = 2.0
				NOT = { age = 25 }
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = honest
			}
			modifier = {
				factor = 1.5
				trait = zealous
			}
			modifier = {
				factor = 1.5
				trait = shy
			}
			modifier = {
				factor = 2.0
				trait = trusting
			}
		}
		
		FROM = { character_event = { id = DWLilith.5405 days = 1 tooltip = EVTTOOLTIP_WoL_405 } }
		clr_character_flag = seduction_whisper_love
		clr_character_flag = seduction_outing_note
	}
	
	option = { # Fall for seduction trick
		name = EVTOPTA_WOL_352_BREATH
		trigger = { has_character_flag = seduction_whisper_breath }
		
		ai_chance = {
			factor = 1000 # Much higher base chance
			modifier = {
				factor = 0.25
				NOT = {
					personal_opinion = {
						who = FROM
						value = 20
					}
				}
			}
			modifier = {
				factor = 0.5
				is_close_relative = FROM
				NOT = { religion = messalian }
				NOT = { religion = zoroastrian }
				NOT = {
					OR = {
						trait = arbitrary
						trait = lustful
						trait = hedonist
					}
				}
			}
			modifier = {
				factor = 1.5
				personal_opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 2.0
				personal_opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				FROM = { has_character_modifier = wol_seducer_1 }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_modifier = wol_seducer_2 }
			}
			modifier = {
				factor = 2.0
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
		}
		
		FROM = { character_event = { id = DWLilith.5405 days = 1 tooltip = EVTTOOLTIP_WoL_405 } }
		clr_character_flag = seduction_whisper_breath
	}
	
	option = { # Spurn
		name = {
			text = EVTOPTB_WOL_352_POET
			trigger = { has_character_flag = seduction_whisper_poet }
		}
		name = {
			text = EVTOPTB_WOL_352_LEWD
			trigger = { has_character_flag = seduction_whisper_lewd }
		}
		name = {
			text = EVTOPTB_WOL_352_LOVE
			trigger = { has_character_flag = seduction_whisper_love }
		}
		name = {
			text = EVTOPTB_WOL_352_BREATH
			trigger = { has_character_flag = seduction_whisper_breath }
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 10.0
				is_female = yes
				NOT = { trait = lustful }
				NOT = { trait = hedonist }
				NOT = { trait = seducer }
				NOT = { trait = seductress }
				NOT = { trait = arbitrary }
				NOT = { has_focus = focus_seduction }
				OR = {
					trait = craven
					trait = chaste
					any_spouse = {
						OR = {
							is_lover = ROOT
							ROOT = {
								opinion_diff = {
									first = PREV
									second = FROM
									value = 10
								}
							}
						}
					}
					any_consort = {
						OR = {
							is_lover = ROOT
							ROOT = {
								opinion_diff = {
									first = PREV
									second = FROM
									value = 10
								}
							}
						}
					}
				}
			}
		}
		
		hidden_tooltip = {
			FROM = {
				set_character_flag = seduction_rebuff_401
				character_event = { id = DWLilith.5353 days = 1 }
			}
		}
		
		clr_character_flag = seduction_whisper_love
		clr_character_flag = seduction_whisper_lewd
		clr_character_flag = seduction_whisper_poet
		clr_character_flag = seduction_whisper_breath
		clr_character_flag = seduction_outing_note
	}

	option = {
		name = EVTOPTREFUSE_WOL100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2.0
				trait = stubborn
			}
			modifier = {
				factor = 0.2
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					NOT = { num_of_dynasty_members = 2 }
					AND = {
						lower_tier_than = FROM
						father = { lower_tier_than = FROM }
						mother = { lower_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					AND = {
						higher_tier_than = FROM
						father = { higher_tier_than = FROM }
						mother = { higher_tier_than = FROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				NOR = {
					trait = lustful 
					trait = deceitful
					trait = arbitrary
					trait = hedonist
					trait = seductress
					trait = seducer
				}
			}
			modifier = {
				factor = 2.0
				trait = chaste
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 25
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 50
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 75
					}
				}
			}
		}
		opinion = { who = FROM modifier = opinion_seduced_refused }
		add_character_modifier = { name = dismissed_proposal duration = 3650 }
		FROM = { narrative_event = { id = DWLilith.5020 } }
	}
}

# .5405 Seducer: Success End
character_event = {
	id = DWLilith.5405
	title = EVTTITLE_WOL_401
	
	desc = {
		text = EVTDESC_WOL_405_SIN
		trigger = {
			OR = {
				is_close_relative = FROM
				same_sex = FROM
			}
		}
	}
	
	desc = {
		text = EVTDESC_WOL_405
		trigger = {
			NOT = { is_close_relative = FROM }
			NOT = { same_sex = FROM }
		}
	}
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		# Chance of levelling up Seduction skill
		character_event = { id = DWLilith.5096 } 
		
		# End the Seduction
		character_event = { id = DWLilith.5018 }
		
		# Scandal check
		FROM = { character_event = { id = DWLilith.5050 } }
		
		# Casanova achievement check event
		hidden_tooltip = { character_event = { id = 718 } }

		# Chance of impregnation
		if = {
			limit = { is_female = yes }
			FROM = { character_event = { id = DWLilith.5097 } }
			break = yes
		}
		FROM = { character_event = { id = DWLilith.5098 } }
	}
	
	option = {
		name = EVTOPTA_WOL_306 # Love and leave
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.1
				NOT = { num_of_lovers = 1 }
			}
			modifier = {
				factor = 0.5
				trait = kind
			}
			modifier = {
				factor = 10
				num_of_lovers = 1
			}
			modifier = {
				factor = 10
				num_of_lovers = 2
			}
			modifier = {
				factor = 10
				num_of_lovers = 3
			}
			modifier = {
				factor = 10
				num_of_lovers = 4
			}
			modifier = {
				factor = 10
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
		}
		custom_tooltip = { text = EVTOPTA_WOL_306_CUSTOM }
	}
	
	option = {
		name = EVTOPTB_WOL_306 # Our love must grow
		ai_chance = {
			factor = 100
		}
		add_lover = FROM
	}
}

# Seduced: Courtier refuses to assist. Ping event.
character_event = {
	id = DWLilith.5406
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		FROMFROM = {
			character_event = { id = DWLilith.5407 }
		}
	}
}

# .5407 Seducer: Courtier refuses to assist
character_event = {
	id = DWLilith.5407
	title = EVTTITLE_WOL_401
	
	desc = EVTDESC_WOL_407
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_407
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	option = {
		name = EVTOPTB_WOL_407 # I have tired of this sport
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# Seduced: Courtier tips off spouse/consort. Ping event.
character_event = {
	id = DWLilith.5408
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		any_spouse = {
			character_event = { id = DWLilith.5409 }
		}
		any_consort = {
			character_event = { id = DWLilith.5409 }
		}
	}
}

# .5409 Spouse/Consort of target: Courtier tip off
character_event = {
	id = DWLilith.5409
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_409
	
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = {
			text = EVTOPTA_WOL_409_M
			trigger = {
				FROMFROMFROM = {
					is_female = no
					OR = {
						NOT = {
							age_diff = {
								who = ROOT
								years = 10
							}
						}
						NOT = { is_older_than = ROOT }
					}
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_M_OLD
			trigger = {
				FROMFROMFROM = {
					is_female = no
					age_diff = {
						who = ROOT
						years = 10
					}
					is_older_than = ROOT
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_F
			trigger = {
				FROMFROMFROM = {
					is_female = yes
					OR = {
						NOT = {
							age_diff = {
								who = ROOT
								years = 10
							}
						}
						NOT = { is_older_than = ROOT }
					}
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_F_OLD
			trigger = {
				FROMFROMFROM = {
					is_female = yes
					age_diff = {
						who = ROOT
						years = 10
					}
					is_older_than = ROOT
				}
			}
		}
		
		add_rival = FROMFROMFROM
		opinion = {
			who = FROMFROMFROM
			modifier = opinion_chasing_spouse
			months = 36
		}
		
		hidden_tooltip = {
			FROMFROMFROM = { character_event = { id = DWLilith.5410 } }
		}
	}
}

# Seducer: Ping to get the scopes right
character_event = {
	id = DWLilith.5410
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROM = { character_event = { id = DWLilith.5411 } }
	}
}

# Seduced: Ping to get the scopes right
character_event = {
	id = DWLilith.5411
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = { character_event = { id = DWLilith.5412 } }
	}
}

# .5412 Seducer: Courtier tipped off the spouse
character_event = {
	id = DWLilith.5412
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_412
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_407
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	option = {
		name = EVTOPTB_WOL_407 # I have tired of this sport
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# Seduced: Could not find a sympathetic courtier. Ping to get the scopes right.
character_event = {
	id = DWLilith.5413
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = { character_event = { id = DWLilith.5414 } }
	}
}

# .5414 Seducer: Could not find a sympathetic courtier
character_event = {
	id = DWLilith.5414
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_414
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_414
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	option = {
		name = EVTOPTB_WOL_407 # I have tired of this sport
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# .5415 Seduced: charmed
character_event = {
	id = DWLilith.5415
	title = EVTTITLE_WOL_401
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_415
		trigger = {
			same_realm = FROM
		}
	}
	desc = {
		text = EVTDESC_WOL_415_DISTANT
		trigger = {
			NOT = { same_realm = FROM }
		}
	}
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_415
		if = {
			limit = {
				NOT = {
					has_opinion_modifier = {
						who = FROM
						modifier = opinion_seduced_repelled
					}
				}
			}
			opinion = {
				who = FROM
				modifier = opinion_seduced_attracted
			}
		}
		
		if = {
			limit = {
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_repelled
				}
			}
			remove_opinion = {
				who = FROM
				modifier = opinion_seduced_repelled
			}
		}
		hidden_tooltip = {
			FROM = { character_event = { id = DWLilith.5416 } }
		}
	}
}

# .5416 Seducer: Charmed the target.
character_event = {
	id = DWLilith.5416
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_416
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_416
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	option = {
		name = EVTOPTB_WOL_407 # I have tired of this sport
		ai_chance = {
			factor = 1
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# .5417 Target or courtier: A note found, addressed to the target
character_event = {
	id = DWLilith.5417
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { character = FROMFROM }
			character_event = { id = DWLilith.5418 }
			break = yes
		}
		if = {
			limit = { any_spouse = { character = FROMFROM } }
			character_event = { id = DWLilith.5421 }
			break = yes
		}
		
		character_event = { id = DWLilith.5424 } # Courtier or parent
	}
}

# .5418 Seduced: finds a note
character_event = {
	id = DWLilith.5418
	title = EVTTITLE_WOL_401
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = {
		text = EVTDESC_WOL_418
		trigger = {
			same_realm = FROMFROM
		}
	}
	desc = {
		text = EVTDESC_WOL_418_DISTANT
		trigger = {
			NOT = { same_realm = FROMFROM }
		}
	}
	
	is_triggered_only = yes
	
	immediate = {
		opinion = {
			who = FROMFROM
			modifier = opinion_flattered
			months = 12
		}
	}
	
	option = {
		name = EVTOPTA_WOL_418_F # Go meet Seducer by the stream
		trigger = { is_female = yes }
		ai_chance = {
			factor = 200
		}
		hidden_tooltip = {
			FROMFROM = { character_event = { id = DWLilith.5419 } }
		}
	}
	
	option = {
		name = EVTOPTA_WOL_418_M # Go meet Seductress by the stream
		trigger = { is_female = no }
		ai_chance = {
			factor = 200
		}
		hidden_tooltip = {
			FROMFROM = { character_event = { id = DWLilith.5419 } }
		}
	}
	
	option = {
		name = EVTOPTB_WOL_418 # Ignore
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.1
				has_opinion_modifier = {
					who = FROMFROM
					modifier = opinion_seduced_attracted
				}
			}
			modifier = {
				factor = 0.1
				trait = lustful
			}
			modifier = {
				factor = 0.2
				trait = hedonist
			}
		}
		
		hidden_tooltip = {
			FROMFROM = { character_event = { id = DWLilith.5420 } }
		}
	}

	option = {
		name = EVTOPTREFUSE_WOL100
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2.0
				trait = stubborn
			}
			modifier = {
				factor = 0.2
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					NOT = { num_of_dynasty_members = 2 }
					AND = {
						lower_tier_than = FROMFROM
						father = { lower_tier_than = FROMFROM }
						mother = { lower_tier_than = FROMFROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				is_married = no
				is_consort = no
				OR = {
					is_lowborn = yes
					AND = {
						higher_tier_than = FROMFROM
						father = { higher_tier_than = FROMFROM }
						mother = { higher_tier_than = FROMFROM }
					}
				}
			}
			modifier = {
				factor = 2.0
				NOR = {
					trait = lustful 
					trait = deceitful
					trait = arbitrary
					trait = hedonist
					trait = seductress
					trait = seducer
				}
			}
			modifier = {
				factor = 2.0
				trait = chaste
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 25
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 50
					}
				}
			}
			modifier = {
				factor = 2.0
				spouse = {
					reverse_personal_opinion = {
						who = ROOT
						value = 75
					}
				}
			}
		}
		opinion = { who = FROMFROM modifier = opinion_seduced_refused }
		add_character_modifier = { name = dismissed_proposal duration = 3650 }
		FROMFROM = { narrative_event = { id = DWLilith.5020 } }
	}
}

# .5419 Seducer: the target found the note and came
character_event = {
	id = DWLilith.5419
	title = EVTTITLE_WOL_401
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	desc = EVTDESC_WOL_419
	
	is_triggered_only = yes
	
	option = { # Confess Love
		name = EVTOPTA_WOL_351
		ai_chance = {
			factor = 100
		}
		FROM = {
			set_character_flag = seduction_outing_note
			set_character_flag = seduction_whisper_love
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_LOVE }
		}
	}
	option = { # Lewd suggestion
		name = EVTOPTB_WOL_351
		ai_chance = {
			factor = 100
		}
		FROM = {
			set_character_flag = seduction_outing_note
			set_character_flag = seduction_whisper_lewd
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_LEWD }
		}
	}
	option = { # Quote Poet
		name = EVTOPTC_WOL_351
		ai_chance = {
			factor = 100
		}
		FROM = {
			set_character_flag = seduction_outing_note
			set_character_flag = seduction_whisper_poet
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_POET }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seducer
		}
		tooltip_info = seducer
		ai_chance = {
			factor = 10000
		}
		FROM = {
			set_character_flag = seduction_outing_note
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
	option = { # Breathe out softly
		name = EVTOPTD_WOL_351
		trigger = {
			trait = seductress
		}
		tooltip_info = seductress
		ai_chance = {
			factor = 10000
		}
		FROM = {
			set_character_flag = seduction_outing_note
			set_character_flag = seduction_whisper_breath
			character_event = { id = DWLilith.5404 days = 1 tooltip = EVTTOOLTIP_WoL_352_BREATH }
		}
	}
}

# .5420 Seducer: Note ignored
character_event = {
	id = DWLilith.5420
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_420
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_414
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	option = {
		name = EVTOPTB_WOL_407 # I have tired of this sport
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				trait = lustful
				FROM = { ai = yes }
			}
			modifier = {
				factor = 200
				FROM = { ai = no }
			}
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# .5421 Spouse/Consort of target: Finds the note
character_event = {
	id = DWLilith.5421
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_409
	
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = {
			text = EVTOPTA_WOL_409_M
			trigger = {
				FROMFROM = {
					is_female = no
					OR = {
						NOT = {
							age_diff = {
								who = ROOT
								years = 10
							}
						}
						NOT = { is_older_than = ROOT }
					}
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_M_OLD
			trigger = {
				FROMFROM = {
					is_female = no
					age_diff = {
						who = ROOT
						years = 10
					}
					is_older_than = ROOT
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_F
			trigger = {
				FROMFROM = {
					is_female = yes
					OR = {
						NOT = {
							age_diff = {
								who = ROOT
								years = 10
							}
						}
						NOT = { is_older_than = ROOT }
					}
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_F_OLD
			trigger = {
				FROMFROM = {
					is_female = yes
					age_diff = {
						who = ROOT
						years = 10
					}
					is_older_than = ROOT
				}
			}
		}
		
		trigger = {
			OR = {
				is_ruler = no
				FROMFROMFROM = {
					liege = {
						NOT = { character = ROOT }
					}
				}
			}
		}
		
		ai_chance = {
			factor = 100
		}
		
		add_rival = FROMFROM
		opinion = {
			who = FROMFROM
			modifier = opinion_chasing_spouse
			months = 36
		}
		
		hidden_tooltip = {
			FROMFROMFROM = { character_event = { id = DWLilith.5422 } }
		}
	}
	
	option = {
		name = EVTOPTB_WOL_421
		trigger = {
			is_ruler = yes
			FROMFROMFROM = {
				liege = {
					character = ROOT
				}
			}
		}
		add_rival = FROMFROM
		opinion = {
			who = FROMFROM
			modifier = opinion_chasing_spouse
			months = 36
		}
		
		ai_chance = {
			factor = 100
			modifier = {
				factor = 5.0
				trait = cruel
			}
			modifier = {
				factor = 5.0
				trait = wroth
			}
			modifier = {
				factor = 5.0
				trait = impaler
			}
			modifier = {
				factor = 0.25
				trait = kind
			}
			modifier = {
				factor = 0.5
				trait = patient
			}
		}
		
		reverse_imprison = FROMFROM
		
		hidden_tooltip = {
			FROMFROMFROM = { character_event = { id = DWLilith.5422 } }
		}
	}
}

# Seduced: Ping to get the scopes right
character_event = {
	id = DWLilith.5422
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROMFROM = { character_event = { id = DWLilith.5423 } }
	}
}

# .5423 Seducer: Spouse found the note
character_event = {
	id = DWLilith.5423
	title = EVTTITLE_WOL_401
	desc = {
		text = EVTDESC_WOL_423
		trigger = { prisoner = no }
	}
	desc = {
		text = EVTDESC_WOL_423_PRISON
		trigger = { prisoner = yes }
	}
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = {
			text = EVTOPTA_WOL_423
			trigger = { prisoner = no }
		}
		name = {
			text = EVTOPTA_WOL_423_PRISON
			trigger = { prisoner = yes }
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	option = {
		name = EVTOPTB_WOL_407 # I have tired of this sport
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# .5424 Courtier finds the note. Can also be the parent of the target...
character_event = {
	id = DWLilith.5424
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_424
	
	picture = GFX_evt_bad_news
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = { # Parent found the note
		name = {
			text = EVTOPTA_WOL_409_M
			trigger = {
				FROMFROM = {
					is_female = no
					OR = {
						NOT = {
							age_diff = {
								who = ROOT
								years = 10
							}
						}
						NOT = { is_older_than = ROOT }
					}
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_M_OLD
			trigger = {
				FROMFROM = {
					is_female = no
					age_diff = {
						who = ROOT
						years = 10
					}
					is_older_than = ROOT
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_F
			trigger = {
				FROMFROM = {
					is_female = yes
					OR = {
						NOT = {
							age_diff = {
								who = ROOT
								years = 10
							}
						}
						NOT = { is_older_than = ROOT }
					}
				}
			}
		}
		name = {
			text = EVTOPTA_WOL_409_F_OLD
			trigger = {
				FROMFROM = {
					is_female = yes
					age_diff = {
						who = ROOT
						years = 10
					}
					is_older_than = ROOT
				}
			}
		}
		
		trigger = {
			FROMFROMFROM = {
				is_child_of = ROOT
			}
		}
		
		ai_chance = {
			factor = 100
		}
		
		opinion = {
			who = FROMFROM
			modifier = opinion_chasing_child
			months = 36
		}
		
		hidden_tooltip = {
			FROMFROMFROM = { character_event = { id = DWLilith.5425 } }
		}
	}
	
	option = { # Other courtier found the note
		name = EVTOPTB_WOL_424
		
		trigger = {
			FROMFROMFROM = {
				NOT = { is_child_of = ROOT }
			}
		}
		
		ai_chance = {
			factor = 100
		}
		
		opinion = {
			who = FROMFROM
			modifier = opinion_chasing_friend
			months = 36
		}
		
		hidden_tooltip = {
			FROMFROMFROM = { character_event = { id = DWLilith.5425 } }
		}
	}
	
	option = { # Amorous courtier goes to the meeting instead
		name = EVTOPTC_WOL_424
		
		trigger = {
			FROMFROMFROM = {
				same_sex = ROOT
			}
			FROMFROM = {
				OR = {
					NOT = { same_sex = ROOT }
					AND = {
						trait = homosexual
						ROOT = { trait = homosexual }
					}
				}
			}
		}
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_female = yes
				age = 55
			}
			modifier = {
				factor = 0.1
				is_married = yes
			}
			modifier = {
				factor = 100
				trait = lustful
			}
			modifier = {
				factor = 50
				trait = hedonist
			}
			modifier = {
				factor = 10
				is_married = yes
				trait = deceitful
			}
			modifier = {
				factor = 10
				trait = arbitrary
			}
			modifier = {
				factor = 5
				trait = gregarious
			}
			modifier = {
				factor = 0.25
				trait = shy
			}
		}
		
		hidden_tooltip = {
			FROMFROMFROM = { character_event = { id = DWLilith.5427 } }
		}
	}
}

# Seduced: Ping to get the scopes right
character_event = {
	id = DWLilith.5425
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROMFROM = { character_event = { id = DWLilith.5426 } }
	}
}

# Seducer: Courtier found the note
character_event = {
	id = DWLilith.5426
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_426
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	show_from_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_423
		ai_chance = {
			factor = 100
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	option = {
		name = EVTOPTB_WOL_407 # I have tired of this sport
		ai_chance = {
			factor = 1
		}
		# End the seduction
		custom_tooltip = {
			text = WOL_SEDUCE_END_TOOLTIP
		}
		hidden_tooltip = {
			character_event = { id = DWLilith.5018 }
		}
	}
}

# Seduced: Ping to get the scopes right
character_event = {
	id = DWLilith.5427
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROMFROMFROM = { character_event = { id = DWLilith.5428 } }
	}
}

# .5428 Seducer: Courtier found the note and came instead!
character_event = {
	id = DWLilith.5428
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_428
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_428 # Tumble the courtier and move on
		
		hidden_tooltip = {
			FROMFROM = { character_event = { id = DWLilith.5429 days = 1 } }
			
			# Chance of levelling up Seduction skill
			character_event = { id = DWLilith.5096 } 
			
			# Chance of impregnation
			if = {
				limit = { is_female = yes }
				FROMFROM = { character_event = { id = DWLilith.5097 } }
			}
			
			if = {
				limit = { is_female = no }
				FROMFROM = { character_event = { id = DWLilith.5098 } }
			}
		}
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
	
	option = {
		name = EVTOPTB_WOL_428 # Ehm, sorry, but no!
		
		FROMFROM = { character_event = { id = DWLilith.5430 days = 1 tooltip = EVTTOOLTIP_WoL_430 } }
		
		
		if = {
			limit = {
				is_female = no
				FROM = {
					is_female = yes
					OR = {
						higher_tier_than = duke
						any_spouse = { higher_tier_than = duke }
						any_consort = { higher_tier_than = duke }
					}
				}
			}
			hidden_tooltip = {
				character_event = { id = DWLilith.5010 days = 60 random = 30 } # Back to the tombola
			}
			break = yes
		}
		
		character_event = { id = DWLilith.5010 days = 20 random = 20 tooltip = EVTTOOLTIP_WoL_110 } # Back to the tombola
	}
}


# .5429 Courtier: Tumbled
character_event = {
	id = DWLilith.5429
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_429
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_429
	}
}

# .5430 Courtier: Resisted
character_event = {
	id = DWLilith.5430
	title = EVTTITLE_WOL_401
	desc = EVTDESC_WOL_430
	
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_WOL_430
		if = {
			limit = {
				FROMFROM = {
					NOT = { is_child_of = ROOT }
				}
			}
			opinion = {
				who = FROM
				modifier = opinion_chasing_friend
				months = 36
			}
		}
		if = {
			limit = {
				FROMFROM = {
					is_child_of = ROOT
				}
			}
			opinion = {
				who = FROM
				modifier = opinion_chasing_child
				months = 36
			}
		}
		
		opinion = {
			who = FROM
			modifier = opinion_advance_rejected
			months = 36
		}
	}
}