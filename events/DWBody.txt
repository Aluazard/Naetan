### Contains events related to body traits

namespace = DWBody

# .1 Characters get breast and penis traits if using Dark World Body Traits (hidden event)
character_event = {
	id = DWBody.1
	is_triggered_only = yes # triggered via on_action
	hide_window = yes # nothing to see here
	trigger = {
        has_dw_bodytrait_content = yes # We're using Dark World Body Traits
        is_adult = yes
        NOT = { has_dw_dicktit_trait = yes } # Ensures we don't already have a dick or tit trait
	}
	immediate = {
		character_event = { id = DWBody.20 } # breast assignment
		character_event = { id = DWBody.10 } # dick assignment for those with cocks
	}
}

# .10 Penis traits get assigned to relevant parties (hidden event)
character_event = {
	id = DWBody.10
	is_triggered_only = yes # triggered via on_action
	hide_window = yes # hidden from the player
	trigger = {
        NOT = { has_dw_dicktit_trait = yes } # Ensures we don't already have a dick or tit trait
		has_cock = yes # Should be for men and futas only
	}
	immediate = {
		add_cock_trait = yes
	}
}
# .20 Women get their breast size (hidden event)
character_event = {
	id = DWBody.20
	is_triggered_only = yes # triggered via on_action
	hide_window = yes # hidden from the player
	only_women = yes # pre-trigger
	trigger = {
        NOT = { has_dw_dicktit_trait = yes } # Ensures we don't already have a dick or tit trait
		is_female = yes # just in case our only_women filter didn't work right
		is_adult = yes # only adults get them, in order to not impact the trait count during educational development
	}
	immediate = {
		add_tits_trait = yes
	}
}
# .30 Virgin trait assignment (hidden event)
character_event = {
	id = DWBody.30
	is_triggered_only = yes # triggered via on_action
	hide_window = yes # hidden from the player
	trigger = {
        has_dw_bodytrait_content = yes # We're using Dark World Body Traits
		is_virgin_trigger = yes
        NOT = { has_character_flag = dw_virginity_checked }
		NOT = { trait = virgin } # They don't already somehow have the Virgin trait
		is_adult = yes # Only interested in tracking adults, in order to avoid potential educational trait impact on children
	}

	immediate = {
		add_trait = virgin # If we made it this far then they pass the virgin check
        set_character_flag = dw_virginity_checked
	}
}
# .33 Virgin trait removed
character_event = {
	id = DWBody.33
	is_triggered_only = yes # triggered via on_action
	hide_window = yes # hidden from the player
	trigger = {
		trait = virgin
	}
	immediate = {
		remove_trait = virgin
	}
}
# .35 Virgin trait removed (pregnancy - hidden event)
character_event = {
	id = DWBody.35
	is_triggered_only = yes # triggered via on_action
	hide_window = yes # hidden from the player
	trigger = {
		trait = virgin
	}
	immediate = {
		remove_trait = virgin
		father_of_unborn = {
			if = {
				limit = {
					trait = virgin
				}
				remove_trait = virgin
			}
		}
	}
}

# .100 The Painter - The Offer (Part 1) Chance for Big Dick+ becoming public knowledge
narrative_event = {
	id = DWBody.100
	is_triggered_only = yes
    desc = DWBody100
    picture = painter01
    title = dw_painter_title
    window = "sastBiggerEventWindow"
	trigger = {
        is_female = no # This is to hopefully avoid futa's who could have a big dick
        has_a_big_dick = yes
        NOT = { has_character_modifier = dw_big_dick_public } # Redundant if they already have it
	}
	option = { # Please do
        name = DWBody100a
        narrative_event = { id = DWBody.105 days = 30 }
    }
    option = { # No thanks
        name = DWBody100b
    }
}
# .105 The Painter - The Offer (Part 2)
narrative_event = {
	id = DWBody.105
	is_triggered_only = yes
    desc = DWBody105
    picture = dick_pic01
    title = dw_painter_title
    window = "sastBiggerEventWindow"
	option = { # Hang it for all to see
        name = DWBody105a
        add_character_modifier = { name = dw_big_dick_public duration = -1 }
    }
    option = { # It's for my private collection
        name = DWBody105b
    }
    option = { # Hang it for all to see + tip
        trigger = { wealth = 5 }
        name = DWBody105c
        add_character_modifier = { name = dw_big_dick_public duration = -1 }
        wealth = -5
    }
    option = { # It's for my private collection + tip
        trigger = { wealth = 5 }
        name = DWBody105d
        wealth = -5
    }
}
