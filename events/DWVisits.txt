### 
# This file handles 'Spend Time With...' events and potentially other rendezvous in the future
# .1 Routing determination
# .1000 Futa player events (generic)
# .2000 Female player events (generic)
# .3000 Trap player events (generic)
# .4000 Male player events (generic)
# .8000 Specific NPC visit events
#    .8000 Hermione
#    .8100 Mey
#    .8900 Gaston
#    .8920 Belle
# .9999 Flag clean-up
###

namespace = DWVisits

# .1 Routing determination
character_event = { 
	id = DWVisits.1
	hide_window = yes
	is_triggered_only = yes # targetted_decision
	immediate = {
		# FROM = target, ROOT = player
		FROM = { save_event_target_as = dw_visit_target }
		
		# Player is a futa
		if = {
			limit = {
				trait = futa
			}
			random_list = {
				# Old events start
				50 ={ # futa / futa event
					trigger = {	event_target:dw_visit_target = { trait = futa } }
					narrative_event = { id = DWVisits.150 }
				}
				50 ={ # futa / female event
					trigger = {
						event_target:dw_visit_target = { 
							is_female = yes
							NOT = { trait = futa }
						}
					}
					narrative_event = { id = DWVisits.161 }
				}
				50 ={ # futa / male event
					modifier = {
						factor = 0 # turns it from 50 no 0
						event_target:dw_visit_target = { is_female = yes } # If the target a female
					}
					narrative_event = { id = DWVisits.180 }
				}
				# Old events end

				## Our partner is a futa
			
				## Our partner is a female
				50 = { # hand job
					trigger = {
						event_target:dw_visit_target = { 
							is_female = yes
							NOT = { trait = futa }
						}
					}
					narrative_event = { id = DWVisits.1000 }
				}
				50 = { # cow girl
					trigger = {
						event_target:dw_visit_target = { 
							is_female = yes
							NOT = { trait = futa }
						}
					}
					# Event Target set-up for the event chain we're jumping over to
					save_event_target_as = futa_lover_1
					event_target:dw_visit_target = { save_event_target_as = female_lover_1 }
					if = {
						limit = { event_target:female_lover_1 = { spouse = { character = ROOT } } }
						event_target:female_lover_1 = { set_character_flag = dw_target_wife }
					}
					else_if = {
						limit = { event_target:female_lover_1 = { is_mother = ROOT } }
						event_target:female_lover_1 = { set_character_flag = dw_target_mom }
					}
					else_if = {
						limit = { event_target:female_lover_1 = { is_child_of = ROOT } }
						event_target:female_lover_1 = { set_character_flag = dw_target_daughter }
					}
					# TODO Some kind of event that doesn't jump straight into sex
					narrative_event = { id = DWSex.660 }
				}
				
				## Our partner is a trap
				50 = { # trap/futa event
					trigger = {
						event_target:dw_visit_target = { trait = trap }
						trait = futa
					}
					# Event Target set-up for the event chain we're jumping over to
					save_event_target_as = futa_lover_1
					event_target:dw_visit_target = { save_event_target_as = trap_lover_1 }
					if = {
						limit = { event_target:trap_lover_1 = { spouse = { character = ROOT } } }
						event_target:trap_lover_1 = { set_character_flag = dw_target_husband }
					}
					else_if = {
						limit = { event_target:trap_lover_1 = { is_father = ROOT } }
						event_target:trap_lover_1 = { set_character_flag = dw_target_dad }
					}
					else_if = {
						limit = { event_target:trap_lover_1 = { is_child_of = ROOT } }
						event_target:trap_lover_1 = { set_character_flag = dw_target_son }
					}
					# TODO Some kind of event that doesn't jump straight into sex
					narrative_event = { id = DWSex.950 }
				}
				
				## Our partner is a male
				50 = { # male/futa event
					trigger = {
						event_target:dw_visit_target = { is_female = no }
						trait = futa
					}
					# Event Target set-up for the event chain we're jumping over to
					save_event_target_as = futa_lover_1
					event_target:dw_visit_target = { save_event_target_as = male_lover_1 }
					if = {
						limit = { event_target:male_lover_1 = { spouse = { character = ROOT } } }
						event_target:male_lover_1 = { set_character_flag = dw_target_husband }
					}
					else_if = {
						limit = { event_target:male_lover_1 = { is_father = ROOT } }
						event_target:male_lover_1 = { set_character_flag = dw_target_dad }
					}
					else_if = {
						limit = { event_target:male_lover_1 = { is_child_of = ROOT } }
						event_target:male_lover_1 = { set_character_flag = dw_target_son }
					}
					# TODO Some kind of event that doesn't jump straight into sex
					narrative_event = { id = DWSex.530 }
				}
				
				# Our partner is a specific NPC
				250 ={ # Hermione
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_hermione }}
					}
					narrative_event = { id = DWVisits.8000 }
				}
				250 = { # Belle gives head
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_belle }}
					}
					narrative_event = { id = DWVisits.8920 }
				}
				250 = { # Mey takes her lover
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_mey }}
					}
					narrative_event = { id = DWVisits.8101 }
				}
			}
		}
		# Player is a woman
		else_if = {
			limit = { # player is a woman - futa's would have been caught in the above if
				is_female = yes
			}
			random_list = {
				# Start old events
				50 ={ # female / female event
					modifier = {
						factor = 0 # turns it from 50 no 0
						event_target:dw_visit_target = { 
							OR = {
								is_female = no # If it is a man
								trait = futa # If it is a futa
							}
						}
					}
					narrative_event = { id = DWVisits.120 }
				}
				50 ={ # female / male event
					modifier = {
						factor = 0 # turns it from 50 no 0
						event_target:dw_visit_target = { 
							is_female = yes # If it is a female
						}
					}
					narrative_event = { id = DWVisits.140 }
				}
				50 ={ # female / futa event
					modifier = {
						factor = 0  # turns it from 50 no 0
						event_target:dw_visit_target = { 
							NOT = { trait = futa } # If it is NOT a futa
						}
					}
					narrative_event = { id = DWVisits.170 }
				}
				50 ={ # female / futa event
					trigger = {	event_target:dw_visit_target = { trait = futa } }
					narrative_event = { id = DWVisits.171 }
				}
				# End old events
				
				## with Futa
				50 = { # female/futa event
					trigger = {	event_target:dw_visit_target = { trait = futa } }
					# Event Target set-up for the event chain we're jumping over to
					save_event_target_as = female_lover_1
					event_target:dw_visit_target = { save_event_target_as = futa_lover_1 }
					if = {
						limit = { event_target:futa_lover_1 = { spouse = { character = ROOT } } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_wife }
					}
					else_if = {
						limit = { event_target:futa_lover_1 = { is_mother = ROOT } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_mom }
					}
					else_if = {
						limit = { event_target:futa_lover_1 = { is_child_of = ROOT } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_daughter }
					}
					# TODO Some kind of event that doesn't jump straight into sex
					narrative_event = { id = DWSex.460 }
				}				
				
				## Our partner is a specific NPC
				250 ={ # Gaston rough
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_gaston }}
					}
					narrative_event = { id = DWVisits.8910 }
				}
				250 = { # Belle munches carpet
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_belle }}
					}
					narrative_event = { id = DWVisits.8921 }
				}
				250 = { # Mey takes her lover
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_mey }}
					}
					narrative_event = { id = DWVisits.8102 }
				}
			}
		}
		
		# Player is a trap
		else_if = {
			limit = { # player is a trap
				trait = trap
				event_target:dw_visit_target = { trait = futa } ### IMPORTANT - This is needs to be removed after adding more trap partner options
			}
			random_list = {
				## Our partner is a futa
				50 = { # male/futa event
					trigger = {
						event_target:dw_visit_target = { trait = futa }
					}
					# Event Target set-up for the event chain we're jumping over to
					save_event_target_as = trap_lover_1
					event_target:dw_visit_target = { save_event_target_as = futa_lover_1 }
					if = {
						limit = { event_target:futa_lover_1 = { spouse = { character = ROOT } } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_wife }
					}
					else_if = {
						limit = { event_target:futa_lover_1 = { is_mother = ROOT } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_mom }
					}
					else_if = {
						limit = { event_target:futa_lover_1 = { is_child_of = ROOT } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_daughter }
					}
					# TODO Some kind of event that doesn't jump straight into sex
					narrative_event = { id = DWSex.850 }
				}
			}
		}
		
		# Player is a man
		else = { 
			# All that's left is from a man / non-trap perspective
			random_list = {
				# Begin old events
				50 = { # male/male event
					modifier = {
						factor = 0 # turns it from 50 no 0
						event_target:dw_visit_target = { is_female = yes } # If the target is a woman
					}
					narrative_event = { id = DWVisits.110 }
				}
				50 = { # male/female event
					modifier = {
						factor = 0 # turns it from 50 no 0
						event_target:dw_visit_target = { 
							OR = {
								is_female = no # If it is a man
								trait = futa # If it is a futa
							}
						}
					}
					narrative_event = { id = DWVisits.130 }
				}
				50 = { # male/futa event
					trigger = {
						event_target:dw_visit_target = { trait = futa }
					}
					narrative_event = { id = DWVisits.190 }
				}
				# End old events
				
				## Our partner is a female
				50 = { # male/female event
					trigger = {
						event_target:dw_visit_target = {
							is_female = yes # our target is a female
							NOT = { trait = futa } # and she isn't a futa
						}
					}
					# Event Target set-up for the event chain we're jumping over to
					save_event_target_as = male_lover_1
					event_target:dw_visit_target = { save_event_target_as = female_lover_1 }
					if = {
						limit = { event_target:female_lover_1 = { spouse = { character = ROOT } } }
						event_target:female_lover_1 = { set_character_flag = dw_target_wife }
					}
					else_if = {
						limit = { event_target:female_lover_1 = { is_mother = ROOT } }
						event_target:female_lover_1 = { set_character_flag = dw_target_mom }
					}
					else_if = {
						limit = { event_target:female_lover_1 = { is_child_of = ROOT } }
						event_target:female_lover_1 = { set_character_flag = dw_target_daughter }
					}
					narrative_event = { id = DWVisits.4000 }
				}

				## Our partner is a futa
				50 = { # male/futa event
					trigger = {
						event_target:dw_visit_target = { trait = futa }
					}
					# Event Target set-up for the event chain we're jumping over to
					save_event_target_as = male_lover_1
					event_target:dw_visit_target = { save_event_target_as = futa_lover_1 }
					if = {
						limit = { event_target:futa_lover_1 = { spouse = { character = ROOT } } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_wife }
					}
					else_if = {
						limit = { event_target:futa_lover_1 = { is_mother = ROOT } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_mom }
					}
					else_if = {
						limit = { event_target:futa_lover_1 = { is_child_of = ROOT } }
						event_target:futa_lover_1 = { set_character_flag = dw_target_daughter }
					}
					# TODO Some kind of event that doesn't jump straight into sex
					narrative_event = { id = DWSex.330 }
				}
				
				## Our partner is a specific NPC
				250 ={ # Gaston
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_gaston }}
					}
					narrative_event = { id = DWVisits.8900 }
				}
				250 = { # Belle taken from behind
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_belle }}
					}
					narrative_event = { id = DWVisits.8922 } 
				}
				250 = { # Belle gives head (same as futa event)
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_belle }}
					}
					narrative_event = { id = DWVisits.8920 }
				}
				250 = { # Mey taken by her lover
					modifier = {
						factor = 0
						NOT = { event_target:dw_visit_target = { has_character_flag = dw_npc_mey }}
					}
					narrative_event = { id = DWVisits.8100 }
				}
			}
		}
	}
}

### .1000 - .1999 Futa Player events
# .1000 with Female - Handjob
narrative_event = {
	id = DWVisits.1000
	picture = a_placeholder
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	desc = { # First time through
		trigger = {
			NOT = { has_character_flag = dw_saw_lover }
		}
		text = DWVisits1000.0
		picture = visit_futa_woman_handjob1
	}
	desc = { # Second time through
		trigger = {
			has_character_flag = dw_saw_lover
		}
		text = DWVisits1000.1
		picture = visit_futa_woman_handjob2
	}
	option = { # On to the second half
		trigger = {
			NOT = { has_character_flag = dw_saw_lover }
		}
		name = DWVisits1000A
		set_character_flag = dw_saw_lover
		narrative_event = { id = DWVisits.1000 }
	}
	option = { # Money Shot
		trigger = {
			has_character_flag = dw_saw_lover
		}
		name = DWVisits1000B
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		clr_character_flag = dw_saw_lover
	}
}


### Old events start
# .110 Spending Time - default two males
narrative_event = {
	id = DWVisits.110
	desc = "DWCore110"
	picture = visit_male_male_1
	title = dw_spending_time_with_target
	
	is_triggered_only = yes # Triggered from .100
	
	option = { # Good times as always
		name = "DWCore110A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
	}
}
# .120 Spending Time - default two females
narrative_event = {
	id = DWVisits.120
	desc = "DWCore120"
	picture = visit_female_female_1
	title = dw_spending_time_with_target
	
	is_triggered_only = yes # Triggered from .100
	
	option = { # Good times as always
		name = "DWCore120A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
	}
}
# .130 Spending Time - player is male, lover is female
narrative_event = {
	id = DWVisits.130
	desc = "DWCore130"
	picture = visit_male_female_1
	title = dw_spending_time_with_target
	
	is_triggered_only = yes # Triggered from .100
	
	option = { # I cum inside my love
		name = "DWCore130A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9000 }}} # Pregnancy check for the lover
	}
	option = { # I pull out
		name = "DWCore130B"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
	}
}
# .140 Spending Time - player is female, lover is male
narrative_event = {
	id = DWVisits.140
	desc = "DWCore140"
	picture = visit_male_female_1
	title = dw_spending_time_with_target
	
	is_triggered_only = yes # Triggered from .100
	
	option = { # My lover cums inside of me
		name = "DWCore140A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9005 }}} # Pregnancy check for player
	}
	option = { # My lover pulls out
		name = "DWCore140B"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
	}
}
# .150 Spending Time - two futas
narrative_event = {
	id = DWVisits.150
	desc = "DWCore150"
	picture = visit_futa_futa_1
	title = dw_spending_time_with_target
	is_triggered_only = yes # Triggered from .100
	option = { # Good times as always
		name = "DWCore150A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
	}
}
# .161 Spending Time - futa player, female lover
narrative_event = {
	id = DWVisits.161
	desc = "DWCore161"
	picture = visit_futa_female_2
	title = dw_spending_time_with_target
	is_triggered_only = yes # Triggered from .100
	option = { # Good times as always
		name = "DWCore161A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
	}
}
# .170 Spending Time - female player, futa lover
narrative_event = {
	id = DWVisits.170
	desc = "DWCore170"
	picture = visit_futa_female_1
	title = dw_spending_time_with_target
	is_triggered_only = yes # Triggered from .100
	option = { # cums inside
		name = "DWCore170A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9005 }}} # Pregnancy check for player
	}
	option = { # pulls out
		name = "DWCore170B"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
	}
}
# .171 Spending Time - female player, futa lover
narrative_event = {
	id = DWVisits.171
	desc = "DWCore171"
	picture = visit_futa_female_2
	title = dw_spending_time_with_target
	is_triggered_only = yes # Triggered from .100
	option = { # Good times as always
		name = "DWCore171A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
	}
}
# .180 Spending Time - futa player, male lover
narrative_event = {
	id = DWVisits.180
	desc = "DWCore180"
	picture = visit_futa_male_1
	title = dw_spending_time_with_target
	is_triggered_only = yes # Triggered from .100
	option = { # Good times as always
		name = "DWCore180A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9005 }}} # Pregnancy check for player
	}
}
# .190 Spending Time - male player, futa lover
narrative_event = {
	id = DWVisits.190
	desc = "DWCore190"
	picture = visit_futa_male_1
	title = dw_spending_time_with_target
	is_triggered_only = yes # Triggered from .100
	option = { # Good times as always
		name = "DWCore190A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9000 }}} # Pregnancy check for lover
	}
}
### Old events end

### .4000 Male specific events
# .4000 Man and his Woman enjoy a horse ride through the country
narrative_event = {
	id = DWVisits.4000
	desc = DWVisits4000
	picture = visit_male_female_ride_1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Enjoy the time - no sex
		name = DWVisits4000A
	}
	option = { # Return home for some sex
		name = DWVisits4000B
		narrative_event = { id = DWSex.140 }
	}
}

### .8000 Specific NPC visits
# .8000 Spend time with Hermione - lover is futa
narrative_event = {
	id = DWVisits.8000
	desc = DWVisits8000
	picture = wizard_hermione_fucked_futa1
	title = dw_spending_time_with_target
	is_triggered_only = yes # Triggered by .1
	option = { # Cum inside of her
		name = DWVisits8000A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9000 }}} # Pregnancy check for the lover
	}
	option = { # Cum outside of her
		name = DWVisits8000B
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
	}
}
# .8100 Spending Time with Mey - lover is a male
narrative_event = {
	id = DWVisits.8100
	desc = DWVisits8100
	picture = futa_mey_male_fucked1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Good times as always
		name = DWVisits8100A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9000 }}} # Pregnancy check for Mey
	}
}
# .8101 Spending Time with Mey - lover is futa
narrative_event = {
	id = DWVisits.8101
	desc = DWVisits8101
	picture = futa_mey_futa_fucks1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Good times as always
		name = DWVisits8101A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9005 }}} # Pregnancy check for player
	}
}
# .8102 Spending Time with Mey - lover is female
narrative_event = {
	id = DWVisits.8102
	desc = DWVisits8102
	picture = futa_mey_female_fucks1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Good times as always
		name = DWVisits8102A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9005 }}} # Pregnancy check for player
	}
}

# .8900 Spend time with Gaston - lover is male
narrative_event = {
	id = DWVisits.8900
	desc = DWVisits8900
	picture = beautybeast_gaston_visit_male1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Good times as always
		name = DWVisits8900A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
	}
}
# .8910 Spending Time with Gaston - rough sex (lover is a female)
narrative_event = {
	id = DWVisits.8910
	desc = DWVisits8910
	picture = beautybeast_gaston_visit_female1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Good times as always
		name = "DWVisits8910A"
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9005 }}} # Pregnancy check
	}
}
# .8920 Spending Time with Belle - eaten out (player has a cock)
narrative_event = {
	id = DWVisits.8920
	desc = DWVisits8920
	picture = beautybeast_belle_visit_cock1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Good times as always
		name = DWVisits8920A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
	}
}
# .8921 Spending Time with Belle - eaten out (player is a female)
narrative_event = {
	id = DWVisits.8921
	desc = DWVisits8921
	picture = beautybeast_belle_visit_female1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1
	option = { # Good times as always
		name = DWVisits8921A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9200 }}} # Check to see if homosexual trait needs to be applied
	}
}
# .8922 Spending Time with Belle (lover is a male)
narrative_event = {
	id = DWVisits.8922
	desc = DWVisits8922
	picture = beautybeast_belle_visit_male1
	title = dw_spending_time_with_target
	is_triggered_only = yes # .1	
	option = { # Good times as always
		name = DWVisits8922A
		add_character_modifier = { name = dw_good_sex duration = 30 }
		event_target:dw_visit_target = { add_character_modifier = { name = dw_good_sex duration = 30 }}
		hidden_tooltip = { event_target:dw_visit_target = { character_event = { id = DWCore.9000 }}} # Pregnancy check
	}
}

# .9999 dw_visit_recovery flag removal
character_event = {
	id = DWVisits.9999
	hide_window = yes # Nothing to see here
	is_triggered_only = yes # Various decisions call this, usually after 30 days
	immediate = {
		clr_character_flag = dw_visit_recovery
	}
}
