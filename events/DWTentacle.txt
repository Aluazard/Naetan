### This file contains events specific to the Tentacle-kin portion of the Dark World mod
# .10 Champion of Chaos start
# .1000 Mind Fuck

namespace = DWTentacle

# .10 Champion of Chaos
narrative_event = {
	id = DWTentacle.10
	picture = a_placeholder
	is_triggered_only = yes # Triggered by Decision
	title = dw_tentacle_start_title	
	trigger = {
		has_seeds_chaos_content = yes # Content check
	}
	desc = { # Female specific
		trigger = { 
			is_female = yes
		}
		text = DWTentacle10
		picture = tentacle_start1
	}
	desc = { # Male specific
		trigger = {
			is_female = no
		}
		text = DWTentacle10
		picture = tentacle_start2
	}
	option = { # I am what I choose to be
		name = DWTentacle10A
		add_trait = tentacle
		custom_tooltip = {
			text = dw_random_image
		}
		hidden_tooltip = {
			add_random_tentacle_portrait = yes
		}
	}
}

## Mind Fuck
# .1000 Tentacle-kin prepares to mind fuck a target
narrative_event = {
	id = DWTentacle.1000
	picture = a_placeholder
	is_triggered_only = yes # by targetted_decision
	title = dw_mind_fuck_title
	desc = { # Female specific
		trigger = { 
			is_female = yes
		}
		text = DWTentacle1000
		picture = tentacle_hunt_female1
	}
	desc = { # Male specific
		trigger = {
			is_female = no
		}
		text = DWTentacle1000
		picture = tentacle_hunt_male1
	}
	immediate = {
		FROM = {
			save_event_target_as = dw_mind_fuck_target
		}
	}
	option = { # My prey is a prisoner that cannot resist
		trigger = {
			event_target:dw_mind_fuck_target = {
				prisoner = yes
			}
		}
		name = DWTentacle1000A
		narrative_event = { id = DWTentacle.1001 }
	}
	option = { # My prey is a slave that cannot resist
		trigger = {
			event_target:dw_mind_fuck_target = {
				trait = branded_slave
			}
		}
		name = DWTentacle1000B
		narrative_event = { id = DWTentacle.1001 }
	}
	option = { # Stealth - Intrigue challenge - Only available if the player has a higher intrigue
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = intrigue
				value = 1
			}
		}
		tooltip_info = intrigue
		name = DWTentacle1000C
		narrative_event = { id = DWTentacle.1002 days = 3 }
	}
	option = { # Combat - Martial challenge - Only available if the player has a higher martial
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = martial
				value = 1
			}
		}
		tooltip_info = martial
		name = DWTentacle1000D
		narrative_event = { id = DWTentacle.1003 days = 3 }
	}
	option = { # Contacts - Stewardship challenge - Only available if the player has a higher stewardship
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = stewardship
				value = 1
			}
		}
		tooltip_info = stewardship
		name = DWTentacle1000E
		narrative_event = { id = DWTentacle.1004 days = 3 }
	}
	option = { # Nevermind
		name = DWTentacle1000Nope
	}
}
# .1001 Tentacle-Kin successfully gets a hold of their target
narrative_event = {
	id = DWTentacle.1001
	picture = a_placeholder
	is_triggered_only = yes # by targetted_decision
	title = dw_mind_fuck_title
	desc = { # Player specific - in other words - this should always be the result right now, but I'm setting up the event to receive multiple trigger options in case I expand it in the future
		trigger = { 
			ai = no
		}
		text = DWTentacle1001
		picture = tentacle_mind_fuck1
	}
	option = { # Slow
		trigger = {
			event_target:dw_mind_fuck_target = { # It'd be pointless if they're already mentally stunted
				NOR = { 
					trait = slow
					trait = imbecile
				}
			}
		}
		name = DWTentacle1001A
		piety = -50
		custom_tooltip = {
			text = dw_tentacle_slow_mind_fuck
		}
		hidden_tooltip = {
			event_target:dw_mind_fuck_target = {		
				remove_good_mental_traits = yes
				add_trait = slow
				opinion = {
					modifier = dw_opinion_mind_manipulator
					who = ROOT
				}
			}
		}
	}
	option = { # Imbecile
		trigger = {
			event_target:dw_mind_fuck_target = { # It'd be pointless if they're already mentally stunted
				NOR = { 
					trait = slow
					trait = imbecile
				}
			}
		}
		name = DWTentacle1001B
		piety = -50
		custom_tooltip = {
			text = dw_tentacle_imbecile_mind_fuck
		}
		hidden_tooltip = {
			event_target:dw_mind_fuck_target = {		
				remove_good_mental_traits = yes
				add_trait = imbecile
				opinion = {
					modifier = dw_opinion_mind_manipulator
					who = ROOT
				}
			}
		}
	}
	option = { # Broken
		trigger = {
			event_target:dw_mind_fuck_target = { # It'd be pointless if they're already mentally stunted
				NOR = { 
					trait = slow
					trait = imbecile
				}
			}
		}
		name = DWTentacle1001C
		piety = -50
		custom_tooltip = {
			text = dw_tentacle_broken_mind_fuck
		}
		hidden_tooltip = {
			event_target:dw_mind_fuck_target = {		
				remove_good_mental_traits = yes
				remove_good_virtues = yes
				add_trait = slow
				add_trait = lunatic
				add_trait = wroth
				add_trait = lustful
				opinion = {
					modifier = dw_opinion_mind_wipe_master
					who = ROOT
				}
			}
		}
	}
	option = { # Already mentally stunted, we finish them off
		trigger = {
			event_target:dw_mind_fuck_target = { # It'd be pointless if they're already mentally stunted
				OR = { 
					trait = slow
					trait = imbecile
				}
			}
		}
		name = DWTentacle1001C
		piety = -50
		custom_tooltip = {
			text = dw_tentacle_finished_mind_fuck
		}
		hidden_tooltip = {
			event_target:dw_mind_fuck_target = {		
				remove_good_mental_traits = yes # Shouldn't be needed, but we'll do it just in case
				remove_good_virtues = yes
				add_trait = lunatic
				add_trait = wroth
				add_trait = lustful
				opinion = {
					modifier = dw_opinion_mind_wipe_master
					who = ROOT
				}
			}
		}
	}
}
# .1002 Tentacle-Kin intrigue challenge
narrative_event = {
	id = DWTentacle.1002
	picture = a_placeholder
	is_triggered_only = yes # by targetted_decision
	title = dw_mind_fuck_title
	desc = { # Perfect infiltration
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = intrigue
				value = 10
			}
		}
		text = DWTentacle1002
		picture = tentacle_hunt_male_ambush1
	}
	desc = { # Minor complications
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = intrigue
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = intrigue
					value = 10
				}
			}
		}
		text = DWTentacle1002.2
		picture = tentacle_hunt_male_ambush1
	}
	desc = { # Fucker stuck me
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = intrigue
				value = 1
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = intrigue
					value = 5
				}
			}
		}
		text = DWTentacle1002.3
		picture = tentacle_hunt_male_wounded1
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = intrigue
				value = 10
			}
		}
		name = DWTentacle1002A
		narrative_event = { id = DWTentacle.1001 }
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = intrigue
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = intrigue
					value = 10
				}
			}
		}
		name = DWTentacle1002B
		random = {
			chance = 50
			add_trait = wounded
		}
		narrative_event = { id = DWTentacle.1001 }
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = intrigue
				value = 1
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = intrigue
					value = 5
				}
			}
		}
		name = DWTentacle1002C
		random_list = {
			75 = {
				add_trait = wounded
			}
			25 = {
				add_trait = maimed
			}
		}
		narrative_event = { id = DWTentacle.1001 }
	}
}
# .1003 Tentacle-Kin martial challenge
narrative_event = {
	id = DWTentacle.1003
	picture = a_placeholder
	is_triggered_only = yes # by targetted_decision
	title = dw_mind_fuck_title
	desc = { # Perfect 
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = martial
				value = 10
			}
		}
		text = DWTentacle1003
		picture = tentacle_hunt_male_martial1
	}
	desc = { # Minor complications
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = martial
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = martial
					value = 10
				}
			}
		}
		text = DWTentacle1003.2
		picture = tentacle_hunt_male_martial1
	}
	desc = { # Fucker stuck me
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = martial
				value = 1
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = martial
					value = 5
				}
			}
		}
		text = DWTentacle1003.3
		picture = tentacle_hunt_male_wounded1
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = martial
				value = 10
			}
		}
		name = DWTentacle1003A
		narrative_event = { id = DWTentacle.1001 }
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = martial
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = martial
					value = 10
				}
			}
		}
		name = DWTentacle1003B
		random = {
			chance = 50
			add_trait = wounded
		}
		narrative_event = { id = DWTentacle.1001 }
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = martial
				value = 1
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = martial
					value = 5
				}
			}
		}
		name = DWTentacle1003C
		random_list = {
			75 = {
				add_trait = wounded
			}
			25 = {
				add_trait = maimed
			}
		}
		narrative_event = { id = DWTentacle.1001 }
	}
}
# .1004 Tentacle-Kin stewardship challenge
narrative_event = {
	id = DWTentacle.1004
	picture = a_placeholder
	is_triggered_only = yes # by targetted_decision
	title = dw_mind_fuck_title
	desc = { # Perfect
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = stewardship
				value = 10
			}
		}
		text = DWTentacle1004
		picture = tentacle_hunt_female_surprise1
	}
	desc = { # Minor complications
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = stewardship
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = stewardship
					value = 10
				}
			}
		}
		text = DWTentacle1004.2
		picture = tentacle_hunt_female_surprise1
	}
	desc = { # Fucker stuck me
		trigger = { 
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = stewardship
				value = 1
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = stewardship
					value = 5
				}
			}
		}
		text = DWTentacle1004.3
		picture = tentacle_hunt_male_wounded1
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = stewardship
				value = 10
			}
		}
		name = DWTentacle1004A
		narrative_event = { id = DWTentacle.1001 }
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = stewardship
				value = 5
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = stewardship
					value = 10
				}
			}
		}
		name = DWTentacle1004B
		random = {
			chance = 50
			add_trait = wounded
		}
		narrative_event = { id = DWTentacle.1001 }
	}
	option = {
		trigger = {
			attribute_diff = {
				character = event_target:dw_mind_fuck_target
				attribute = stewardship
				value = 1
			}
			NOT = {
				attribute_diff = {
					character = event_target:dw_mind_fuck_target
					attribute = stewardship
					value = 5
				}
			}
		}
		name = DWTentacle1004C
		random_list = {
			75 = {
				add_trait = wounded
			}
			25 = {
				add_trait = maimed
			}
		}
		narrative_event = { id = DWTentacle.1001 }
	}
}